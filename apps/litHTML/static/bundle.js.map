{"version":3,"file":"bundle.js","sources":["../node_modules/lit-html/lib/directive.js","../node_modules/lit-html/lib/dom.js","../node_modules/lit-html/lib/part.js","../node_modules/lit-html/lib/template.js","../node_modules/lit-html/lib/template-instance.js","../node_modules/lit-html/lib/template-result.js","../node_modules/lit-html/lib/parts.js","../node_modules/lit-html/lib/default-template-processor.js","../node_modules/lit-html/lib/template-factory.js","../node_modules/lit-html/lib/render.js","../node_modules/lit-html/lit-html.js","../modules/elements/cc-button.js","../modules/elements/cc-input.js","../modules/elements/my-element.js","../modules/register.js","../modules/templates.js","../node_modules/xstate/es/types.js","../node_modules/xstate/es/actionTypes.js","../node_modules/xstate/es/constants.js","../node_modules/xstate/es/utils.js","../node_modules/xstate/es/actions.js","../node_modules/xstate/es/State.js","../node_modules/xstate/es/StateTree.js","../node_modules/xstate/es/StateNode.js","../node_modules/xstate/es/Machine.js","../node_modules/xstate/es/interpreter.js","../node_modules/xstate/es/index.js","../modules/machines/domMachine.js","../modules/init.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive so that lit-html will call the function\n * during template rendering, rather than passing as a value.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object\n *\n * @example\n *\n * ```\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n * ```\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => typeof o === 'function' && directives.has(o);\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !== undefined;\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    let node = start;\n    while (node !== end) {\n        const n = node.nextSibling;\n        container.insertBefore(node, before);\n        node = n;\n    }\n};\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes = (container, startNode, endNode = null) => {\n    let node = startNode;\n    while (node !== endNode) {\n        const n = node.nextSibling;\n        container.removeChild(node);\n        node = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, not attribute positions,\n * in template.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\nexport const rewritesStyleAttribute = (() => {\n    const el = document.createElement('div');\n    el.setAttribute('style', '{{bad value}}');\n    return el.getAttribute('style') !== '{{bad value}}';\n})();\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        let index = -1;\n        let partIndex = 0;\n        const nodesToRemove = [];\n        const _prepareTemplate = (template) => {\n            const content = template.content;\n            // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n            // null\n            const walker = document.createTreeWalker(content, 133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                   NodeFilter.SHOW_TEXT */, null, false);\n            // The actual previous node, accounting for removals: if a node is removed\n            // it will never be the previousNode.\n            let previousNode;\n            // Used to set previousNode at the top of the loop.\n            let currentNode;\n            while (walker.nextNode()) {\n                index++;\n                previousNode = currentNode;\n                const node = currentNode = walker.currentNode;\n                if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                    if (node.hasAttributes()) {\n                        const attributes = node.attributes;\n                        // Per\n                        // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                        // attributes are not guaranteed to be returned in document order.\n                        // In particular, Edge/IE can return them out of order, so we cannot\n                        // assume a correspondance between part index and attribute index.\n                        let count = 0;\n                        for (let i = 0; i < attributes.length; i++) {\n                            if (attributes[i].value.indexOf(marker) >= 0) {\n                                count++;\n                            }\n                        }\n                        while (count-- > 0) {\n                            // Get the template literal section leading up to the first\n                            // expression in this attribute\n                            const stringForPart = result.strings[partIndex];\n                            // Find the attribute name\n                            const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                            // Find the corresponding attribute\n                            // If the attribute name contains special characters, lower-case\n                            // it so that on XML nodes with case-sensitive getAttribute() we\n                            // can still find the attribute, which will have been lower-cased\n                            // by the parser.\n                            //\n                            // If the attribute name doesn't contain special character, it's\n                            // important to _not_ lower-case it, in case the name is\n                            // case-sensitive, like with XML attributes like \"viewBox\".\n                            const attributeLookupName = (rewritesStyleAttribute && name === 'style') ?\n                                'style$' :\n                                /^[a-zA-Z-]*$/.test(name) ? name : name.toLowerCase();\n                            const attributeValue = node.getAttribute(attributeLookupName);\n                            const strings = attributeValue.split(markerRegex);\n                            this.parts.push({ type: 'attribute', index, name, strings });\n                            node.removeAttribute(attributeLookupName);\n                            partIndex += strings.length - 1;\n                        }\n                    }\n                    if (node.tagName === 'TEMPLATE') {\n                        _prepareTemplate(node);\n                    }\n                }\n                else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                    const nodeValue = node.nodeValue;\n                    if (nodeValue.indexOf(marker) < 0) {\n                        continue;\n                    }\n                    const parent = node.parentNode;\n                    const strings = nodeValue.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        parent.insertBefore((strings[i] === '') ? createMarker() :\n                            document.createTextNode(strings[i]), node);\n                        this.parts.push({ type: 'node', index: index++ });\n                    }\n                    parent.insertBefore(strings[lastIndex] === '' ?\n                        createMarker() :\n                        document.createTextNode(strings[lastIndex]), node);\n                    nodesToRemove.push(node);\n                }\n                else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                    if (node.nodeValue === marker) {\n                        const parent = node.parentNode;\n                        // Add a new marker node to be the startNode of the Part if any of\n                        // the following are true:\n                        //  * We don't have a previousSibling\n                        //  * previousSibling is being removed (thus it's not the\n                        //    `previousNode`)\n                        //  * previousSibling is not a Text node\n                        //\n                        // TODO(justinfagnani): We should be able to use the previousNode\n                        // here as the marker node and reduce the number of extra nodes we\n                        // add to a template. See\n                        // https://github.com/PolymerLabs/lit-html/issues/147\n                        const previousSibling = node.previousSibling;\n                        if (previousSibling === null || previousSibling !== previousNode ||\n                            previousSibling.nodeType !== Node.TEXT_NODE) {\n                            parent.insertBefore(createMarker(), node);\n                        }\n                        else {\n                            index--;\n                        }\n                        this.parts.push({ type: 'node', index: index++ });\n                        nodesToRemove.push(node);\n                        // If we don't have a nextSibling add a marker node.\n                        // We don't have to check if the next node is going to be removed,\n                        // because that node will induce a new marker if so.\n                        if (node.nextSibling === null) {\n                            parent.insertBefore(createMarker(), node);\n                        }\n                        else {\n                            index--;\n                        }\n                        currentNode = previousNode;\n                        partIndex++;\n                    }\n                    else {\n                        let i = -1;\n                        while ((i = node.nodeValue.indexOf(marker, i + 1)) !== -1) {\n                            // Comment node has a binding marker inside, make an inactive part\n                            // The binding won't work, but subsequent bindings will\n                            // TODO (justinfagnani): consider whether it's even worth it to\n                            // make bindings in comments work\n                            this.parts.push({ type: 'node', index: -1 });\n                        }\n                    }\n                }\n            }\n        };\n        _prepareTemplate(element);\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this._parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this._parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this._parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // When using the Custom Elements polyfill, clone the node, rather than\n        // importing it, to keep the fragment in the template's document. This\n        // leaves the fragment inert so custom elements won't upgrade and\n        // potentially modify their contents by creating a polyfilled ShadowRoot\n        // while we traverse the tree.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const parts = this.template.parts;\n        let partIndex = 0;\n        let nodeIndex = 0;\n        const _prepareInstance = (fragment) => {\n            // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n            // null\n            const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n            let node = walker.nextNode();\n            // Loop through all the nodes and parts of a template\n            while (partIndex < parts.length && node !== null) {\n                const part = parts[partIndex];\n                // Consecutive Parts may have the same node index, in the case of\n                // multiple bound attributes on an element. So each iteration we either\n                // increment the nodeIndex, if we aren't on a node with a part, or the\n                // partIndex if we are. By not incrementing the nodeIndex when we find a\n                // part, we allow for the next part to be associated with the current\n                // node if neccessasry.\n                if (!isTemplatePartActive(part)) {\n                    this._parts.push(undefined);\n                    partIndex++;\n                }\n                else if (nodeIndex === part.index) {\n                    if (part.type === 'node') {\n                        const part = this.processor.handleTextExpression(this.options);\n                        part.insertAfterNode(node);\n                        this._parts.push(part);\n                    }\n                    else {\n                        this._parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n                    }\n                    partIndex++;\n                }\n                else {\n                    nodeIndex++;\n                    if (node.nodeName === 'TEMPLATE') {\n                        _prepareInstance(node.content);\n                    }\n                    node = walker.nextNode();\n                }\n            }\n        };\n        _prepareInstance(fragment);\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { reparentNodes } from './dom.js';\nimport { lastAttributeNameRegex, marker, nodeMarker, rewritesStyleAttribute } from './template.js';\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isTextBinding = true;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            html += s;\n            const close = s.lastIndexOf('>');\n            // We're in a text position if the previous string closed its last tag, an\n            // attribute position if the string opened an unclosed tag, and unchanged\n            // if the string had no brackets at all:\n            //\n            // \"...>...\": text position. open === -1, close > -1\n            // \"...<...\": attribute position. open > -1\n            // \"...\": no change. open === -1, close === -1\n            isTextBinding =\n                (close > -1 || isTextBinding) && s.indexOf('<', close + 1) === -1;\n            if (!isTextBinding && rewritesStyleAttribute) {\n                html = html.replace(lastAttributeNameRegex, (match, p1, p2, p3) => {\n                    return (p2 === 'style') ? `${p1}style$${p3}` : match;\n                });\n            }\n            html += isTextBinding ? nodeMarker : marker;\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => (value === null ||\n    !(typeof value === 'object' || typeof value === 'function'));\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (v != null &&\n                    (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n                else {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\nexport class AttributePart {\n    constructor(comitter) {\n        this.value = undefined;\n        this.committer = comitter;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this._pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Inserts this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n     * its next sibling must be static, unchanging nodes such as those that appear\n     * in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part._insert(this.startNode = createMarker());\n        part._insert(this.endNode = createMarker());\n    }\n    /**\n     * Appends this part after `ref`\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref._insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this._pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this._pendingValue)) {\n            const directive = this._pendingValue;\n            this._pendingValue = noChange;\n            directive(this);\n        }\n        const value = this._pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this._commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this._commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this._commitNode(value);\n        }\n        else if (Array.isArray(value) || value[Symbol.iterator]) {\n            this._commitIterable(value);\n        }\n        else if (value.then !== undefined) {\n            this._commitPromise(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._commitText(value);\n        }\n    }\n    _insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    _commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this._insert(value);\n        this.value = value;\n    }\n    _commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === Node.TEXT_NODE) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.textContent = value;\n        }\n        else {\n            this._commitNode(document.createTextNode(typeof value === 'string' ? value : String(value)));\n        }\n        this.value = value;\n    }\n    _commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value && this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this._commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    _commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    _commitPromise(value) {\n        this.value = value;\n        value.then((v) => {\n            if (this.value === value) {\n                this.setValue(v);\n                this.commit();\n            }\n        });\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this._pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this._pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this._pendingValue)) {\n            const directive = this._pendingValue;\n            this._pendingValue = noChange;\n            directive(this);\n        }\n        if (this._pendingValue === noChange) {\n            return;\n        }\n        const value = !!this._pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n        }\n        this.value = value;\n        this._pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this._pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this._boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this._pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this._pendingValue)) {\n            const directive = this._pendingValue;\n            this._pendingValue = noChange;\n            directive(this);\n        }\n        if (this._pendingValue === noChange) {\n            return;\n        }\n        const newListener = this._pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this._boundHandleEvent, this._options);\n        }\n        this._options = getOptions(newListener);\n        if (shouldAddListener) {\n            this.element.addEventListener(this.eventName, this._boundHandleEvent, this._options);\n        }\n        this.value = newListener;\n        this._pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const comitter = new PropertyCommitter(element, name.slice(1), strings);\n            return comitter.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const comitter = new AttributeCommitter(element, name, strings);\n        return comitter.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = new Map();\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.get(result.strings);\n    if (template === undefined) {\n        template = new Template(result, result.getTemplateElement());\n        templateCache.set(result.strings, template);\n    }\n    return template;\n}\n// The first argument to JS template tags retain identity across multiple\n// calls to a tag for the same literal, so we can cache work done per literal\n// in a Map.\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","export class CCElement extends HTMLElement {\n  constructor() {\n    super();\n\n    this.addEventListener(\"click\", async e => {\n      // example of dynamic import with relative path\n      const modulePath = \"/utils/sayHi.js\";\n      const { hi } = await import(\"/modules/sayHi.js\");\n      hi(this.getAttribute(\"value\"));\n    });\n  }\n\n  connectedCallback() {\n    const shadow = this.attachShadow({ mode: \"open\" });\n\n    const style = document.createElement(\"style\");\n    style.textContent = `\n        :host {\n          // all: initial;\n          transition: all 0.5s ease;\n          display: inline-block;\n          contain: content;\n  \n          color: #fff;\n          background: #24b33f;\n          padding: 10px;\n          cursor: pointer;\n        }\n        :host(:hover) {\n          background: #158a2b;\n        }\n      `;\n\n    shadow.appendChild(style);\n\n    // const button = document.createElement(\"div\");\n    // button.textContent = this.childNodes[0].textContent;\n\n    shadow.appendChild(this.childNodes[0]);\n\n    // const event = new CustomEvent(\"hello-event\", {});\n    // this.addEventListener(\"click\", e => {});\n  }\n}\n","export const createCCInput = send =>\n  class CCInput extends HTMLElement {\n    static get observedAttributes() {\n      return [\"value\"];\n    }\n\n    constructor() {\n      super();\n    }\n\n    attributeChangedCallback(attribute, value, newValue) {\n      console.log(attribute, value, newValue);\n\n      if (value) {\n        this.input.setAttribute(attribute, newValue);\n      }\n    }\n\n    connectedCallback() {\n      const shadow = this.attachShadow({ mode: \"open\" });\n\n      this.input = document.createElement(\"input\");\n\n      this.input.setAttribute(\"value\", this.getAttribute(\"value\"));\n\n      this.input.addEventListener(\"blur\", e => {\n        send({\n          type: \"INPUT_CHANGE\",\n          payload: e.target.value\n        });\n      });\n\n      shadow.appendChild(this.input);\n    }\n  };\n","// import {\n//   LitElement,\n//   html\n// } from \"/node_modules/@polymer/lit-element/lit-element.js\";\n\n// export const render = html => html`\n//   <my-element></my-element>\n// `;\n\nexport class MyElement extends HTMLElement {\n  constructor() {\n    super();\n  }\n}\n","import { CCElement } from \"./elements/cc-button.js\";\nimport { createCCInput } from \"./elements/cc-input.js\";\nimport { MyElement } from \"./elements/my-element.js\";\n\nexport const register = send => {\n  const CCInput = createCCInput(send);\n\n  window.customElements.define(\"cc-button\", CCElement);\n  window.customElements.define(\"cc-input\", CCInput);\n  window.customElements.define(\"my-element\", MyElement);\n};\n","const createLogEvent = type => e => console.log(type, e);\n\n// export const headline = (r, { name }) => r`\n//     <h1>${name}</h1>\n//   `;\n\n// export const content = (r, { content, onClick, onChange }) => r`\n//     <p>${content}</p>\n//     <input type=\"text\" value=${content} @input=${onChange} />\n//     <cc-button @click=${onClick}>Click Me</cc-button>\n// `;\n\n// export const createAppTemplateResult = (r, data) => r`\n//     ${headline(r, { name: data.name })}\n//     ${content(r, {\n//       content: data.content,\n//       onClick: createLogEvent(\"click\"),\n//       onChange: createLogEvent(\"input\")\n//     })}\n//   `;\n\nexport const createAppTemplateResult = (html, data) => html`\n  <h1>${data.name}</h1>\n  <p>${data.content}</p>\n\n  <cc-input is=\"input\" value=\"${data.name}\"></cc-input>\n\n  <cc-input is=\"input\" value=\"${data.name}\"></cc-input>\n\n  <input is=\"cc-input\" value=\"${data.name}\" />\n\n  <cc-button value=\"SAVE_BUTTON_CLICKED\">Click Me</cc-button>\n\n  <my-element></my-element>\n`;\n","export var ActionTypes;\n(function (ActionTypes) {\n    ActionTypes[\"Start\"] = \"xstate.start\";\n    ActionTypes[\"Stop\"] = \"xstate.stop\";\n    ActionTypes[\"Raise\"] = \"xstate.raise\";\n    ActionTypes[\"Send\"] = \"xstate.send\";\n    ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n    ActionTypes[\"NullEvent\"] = \"\";\n    ActionTypes[\"Assign\"] = \"xstate.assign\";\n    ActionTypes[\"After\"] = \"xstate.after\";\n    ActionTypes[\"DoneState\"] = \"done.state\";\n    ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n    ActionTypes[\"Log\"] = \"xstate.log\";\n    ActionTypes[\"Init\"] = \"xstate.init\";\n    ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n    ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n    ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n})(ActionTypes || (ActionTypes = {}));\nexport var SpecialTargets;\n(function (SpecialTargets) {\n    SpecialTargets[\"Parent\"] = \"#_parent\";\n    SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));","import { ActionTypes } from './types';\n// xstate-specific action types\nexport var start = ActionTypes.Start;\nexport var stop = ActionTypes.Stop;\nexport var raise = ActionTypes.Raise;\nexport var send = ActionTypes.Send;\nexport var cancel = ActionTypes.Cancel;\nexport var nullEvent = ActionTypes.NullEvent;\nexport var assign = ActionTypes.Assign;\nexport var after = ActionTypes.After;\nexport var doneState = ActionTypes.DoneState;\nexport var log = ActionTypes.Log;\nexport var init = ActionTypes.Init;\nexport var invoke = ActionTypes.Invoke;\nexport var errorExecution = ActionTypes.ErrorExecution;","export var STATE_DELIMITER = '.';\nexport var EMPTY_ACTIVITY_MAP = {};","var __values = this && this.__values || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n        i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __read = this && this.__read || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    } catch (error) {\n        e = { error: error };\n    } finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally {\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __spread = this && this.__spread || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { STATE_DELIMITER } from './constants';\nfunction isState(state) {\n    if (typeof state === 'string') {\n        return false;\n    }\n    return 'value' in state && 'tree' in state && 'history' in state;\n}\nexport function keys(value) {\n    return Object.keys(value);\n}\nexport function matchesState(parentStateId, childStateId, delimiter) {\n    if (delimiter === void 0) {\n        delimiter = STATE_DELIMITER;\n    }\n    var parentStateValue = toStateValue(parentStateId, delimiter);\n    var childStateValue = toStateValue(childStateId, delimiter);\n    if (typeof childStateValue === 'string') {\n        if (typeof parentStateValue === 'string') {\n            return childStateValue === parentStateValue;\n        }\n        // Parent more specific than child\n        return false;\n    }\n    if (typeof parentStateValue === 'string') {\n        return parentStateValue in childStateValue;\n    }\n    return keys(parentStateValue).every(function (key) {\n        if (!(key in childStateValue)) {\n            return false;\n        }\n        return matchesState(parentStateValue[key], childStateValue[key]);\n    });\n}\nexport function getEventType(event) {\n    try {\n        return typeof event === 'string' || typeof event === 'number' ? \"\" + event : event.type;\n    } catch (e) {\n        throw new Error('Events must be strings or objects with a string event.type property.');\n    }\n}\nexport function getActionType(action) {\n    try {\n        return typeof action === 'string' || typeof action === 'number' ? \"\" + action : typeof action === 'function' ? action.name : action.type;\n    } catch (e) {\n        throw new Error('Actions must be strings or objects with a string action.type property.');\n    }\n}\nexport function toStatePath(stateId, delimiter) {\n    try {\n        if (Array.isArray(stateId)) {\n            return stateId;\n        }\n        return stateId.toString().split(delimiter);\n    } catch (e) {\n        throw new Error(\"'\" + stateId + \"' is not a valid state path.\");\n    }\n}\nexport function toStateValue(stateValue, delimiter) {\n    if (isState(stateValue)) {\n        return stateValue.value;\n    }\n    if (Array.isArray(stateValue)) {\n        return pathToStateValue(stateValue);\n    }\n    if (typeof stateValue !== 'string' && !isState(stateValue)) {\n        return stateValue;\n    }\n    var statePath = toStatePath(stateValue, delimiter);\n    return pathToStateValue(statePath);\n}\nexport function pathToStateValue(statePath) {\n    if (statePath.length === 1) {\n        return statePath[0];\n    }\n    var value = {};\n    var marker = value;\n    for (var i = 0; i < statePath.length - 1; i++) {\n        if (i === statePath.length - 2) {\n            marker[statePath[i]] = statePath[i + 1];\n        } else {\n            marker[statePath[i]] = {};\n            marker = marker[statePath[i]];\n        }\n    }\n    return value;\n}\nexport function mapValues(collection, iteratee) {\n    var result = {};\n    keys(collection).forEach(function (key, i) {\n        result[key] = iteratee(collection[key], key, collection, i);\n    });\n    return result;\n}\nexport function mapFilterValues(collection, iteratee, predicate) {\n    var result = {};\n    keys(collection).forEach(function (key) {\n        var item = collection[key];\n        if (!predicate(item)) {\n            return;\n        }\n        result[key] = iteratee(item, key, collection);\n    });\n    return result;\n}\n/**\n * Retrieves a value at the given path.\n * @param props The deep path to the prop of the desired value\n */\nexport var path = function (props) {\n    return function (object) {\n        var e_1, _a;\n        var result = object;\n        try {\n            for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n                var prop = props_1_1.value;\n                result = result[prop];\n            }\n        } catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        } finally {\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            } finally {\n                if (e_1) throw e_1.error;\n            }\n        }\n        return result;\n    };\n};\n/**\n * Retrieves a value at the given path via the nested accessor prop.\n * @param props The deep path to the prop of the desired value\n */\nexport function nestedPath(props, accessorProp) {\n    return function (object) {\n        var e_2, _a;\n        var result = object;\n        try {\n            for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n                var prop = props_2_1.value;\n                result = result[accessorProp][prop];\n            }\n        } catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        } finally {\n            try {\n                if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n            } finally {\n                if (e_2) throw e_2.error;\n            }\n        }\n        return result;\n    };\n}\nexport var toStatePaths = function (stateValue) {\n    if (!stateValue) {\n        return [[]];\n    }\n    if (typeof stateValue === 'string') {\n        return [[stateValue]];\n    }\n    var result = flatten(keys(stateValue).map(function (key) {\n        var subStateValue = stateValue[key];\n        if (typeof subStateValue !== 'string' && !Object.keys(subStateValue).length) {\n            return [[key]];\n        }\n        return toStatePaths(stateValue[key]).map(function (subPath) {\n            return [key].concat(subPath);\n        });\n    }));\n    return result;\n};\nexport var pathsToStateValue = function (paths) {\n    var e_3, _a;\n    var result = {};\n    if (paths && paths.length === 1 && paths[0].length === 1) {\n        return paths[0][0];\n    }\n    try {\n        for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n            var currentPath = paths_1_1.value;\n            var marker = result;\n            // tslint:disable-next-line:prefer-for-of\n            for (var i = 0; i < currentPath.length; i++) {\n                var subPath = currentPath[i];\n                if (i === currentPath.length - 2) {\n                    marker[subPath] = currentPath[i + 1];\n                    break;\n                }\n                marker[subPath] = marker[subPath] || {};\n                marker = marker[subPath];\n            }\n        }\n    } catch (e_3_1) {\n        e_3 = { error: e_3_1 };\n    } finally {\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        } finally {\n            if (e_3) throw e_3.error;\n        }\n    }\n    return result;\n};\nexport function flatten(array) {\n    var _a;\n    return (_a = []).concat.apply(_a, __spread(array));\n}\nexport function toArray(value) {\n    if (Array.isArray(value)) {\n        return value;\n    }\n    if (value === undefined) {\n        return [];\n    }\n    return [value];\n}\nexport function mapContext(mapper, context, event) {\n    if (typeof mapper === 'function') {\n        return mapper(context, event);\n    }\n    return keys(mapper).reduce(function (acc, key) {\n        var subMapper = mapper[key];\n        if (typeof subMapper === 'function') {\n            acc[key] = subMapper(context, event);\n        } else {\n            acc[key] = subMapper;\n        }\n        return acc;\n    }, {});\n}","var __assign = this && this.__assign || function () {\n    __assign = Object.assign || function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    return t;\n};\nimport { ActionTypes, SpecialTargets } from './types';\nimport * as actionTypes from './actionTypes';\nimport { getEventType } from './utils';\nexport { actionTypes };\nexport function toEventObject(event\n// id?: TEvent['type']\n) {\n    if (typeof event === 'string' || typeof event === 'number') {\n        var eventObject = { type: event };\n        // if (id !== undefined) {\n        //   eventObject.id = id;\n        // }\n        return eventObject;\n    }\n    return event;\n}\nfunction getActionFunction(actionType, actionFunctionMap) {\n    if (!actionFunctionMap) {\n        return undefined;\n    }\n    var actionReference = actionFunctionMap[actionType];\n    if (!actionReference) {\n        return undefined;\n    }\n    if (typeof actionReference === 'function') {\n        return actionReference;\n    }\n    return actionReference;\n}\nexport function toActionObject(action, actionFunctionMap) {\n    var actionObject;\n    if (typeof action === 'string' || typeof action === 'number') {\n        var exec = getActionFunction(action, actionFunctionMap);\n        if (typeof exec === 'function') {\n            actionObject = {\n                type: action,\n                exec: exec\n            };\n        } else if (exec) {\n            actionObject = exec;\n        } else {\n            actionObject = { type: action, exec: undefined };\n        }\n    } else if (typeof action === 'function') {\n        actionObject = {\n            type: action.name,\n            exec: action\n        };\n    } else {\n        var exec = getActionFunction(action.type, actionFunctionMap);\n        if (typeof exec === 'function') {\n            actionObject = __assign({}, action, { exec: exec });\n        } else if (exec) {\n            var type = action.type,\n                other = __rest(action, [\"type\"]);\n            actionObject = __assign({ type: type }, exec, other);\n        } else {\n            actionObject = action;\n        }\n    }\n    Object.defineProperty(actionObject, 'toString', {\n        value: function () {\n            return actionObject.type;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return actionObject;\n}\nexport function toActivityDefinition(action) {\n    var actionObject = toActionObject(action);\n    return __assign({ id: typeof action === 'string' ? action : actionObject.id }, actionObject, { type: actionObject.type });\n}\nexport var toActionObjects = function (action, actionFunctionMap) {\n    if (!action) {\n        return [];\n    }\n    var actions = Array.isArray(action) ? action : [action];\n    return actions.map(function (subAction) {\n        return toActionObject(subAction, actionFunctionMap);\n    });\n};\n/**\n * Raises an event. This places the event in the internal event queue, so that\n * the event is immediately consumed by the machine in the current step.\n *\n * @param eventType The event to raise.\n */\nexport function raise(event) {\n    return {\n        type: actionTypes.raise,\n        event: event\n    };\n}\n/**\n * Sends an event. This returns an action that will be read by an interpreter to\n * send the event in the next step, after the current step is finished executing.\n *\n * @param event The event to send.\n * @param options Options to pass into the send event:\n *  - `id` - The unique send event identifier (used with `cancel()`).\n *  - `delay` - The number of milliseconds to delay the sending of the event.\n *  - `target` - The target of this event (by default, the machine the event was sent from).\n */\nexport function send(event, options) {\n    return {\n        to: options ? options.to : undefined,\n        type: actionTypes.send,\n        event: toEventObject(event),\n        delay: options ? options.delay : undefined,\n        id: options && options.id !== undefined ? options.id : getEventType(event)\n    };\n}\n/**\n * Sends an event to this machine's parent machine.\n *\n * @param event The event to send to the parent machine.\n * @param options Options to pass into the send event.\n */\nexport function sendParent(event, options) {\n    return send(event, __assign({}, options, { to: SpecialTargets.Parent }));\n}\n/**\n *\n * @param expr The expression function to evaluate which will be logged.\n *  Takes in 2 arguments:\n *  - `ctx` - the current state context\n *  - `event` - the event that caused this action to be executed.\n * @param label The label to give to the logged expression.\n */\nexport function log(expr, label) {\n    if (expr === void 0) {\n        expr = function (context, event) {\n            return {\n                context: context,\n                event: event\n            };\n        };\n    }\n    return {\n        type: actionTypes.log,\n        label: label,\n        expr: expr\n    };\n}\n/**\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\n * be executed, nor will its event be sent, unless it has already been sent\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\n *\n * @param sendId The `id` of the `send(...)` action to cancel.\n */\nexport var cancel = function (sendId) {\n    return {\n        type: actionTypes.cancel,\n        sendId: sendId\n    };\n};\n/**\n * Starts an activity.\n *\n * @param activity The activity to start.\n */\nexport function start(activity) {\n    var activityDef = toActivityDefinition(activity);\n    return {\n        type: ActionTypes.Start,\n        activity: activityDef,\n        exec: undefined\n    };\n}\n/**\n * Stops an activity.\n *\n * @param activity The activity to stop.\n */\nexport function stop(activity) {\n    var activityDef = toActivityDefinition(activity);\n    return {\n        type: ActionTypes.Stop,\n        activity: activityDef,\n        exec: undefined\n    };\n}\n/**\n * Updates the current context of the machine.\n *\n * @param assignment An object that represents the partial context to update.\n */\nexport var assign = function (assignment) {\n    return {\n        type: actionTypes.assign,\n        assignment: assignment\n    };\n};\nexport function isActionObject(action) {\n    return typeof action === 'object' && 'type' in action;\n}\n/**\n * Returns an event type that represents an implicit event that\n * is sent after the specified `delay`.\n *\n * @param delay The delay in milliseconds\n * @param id The state node ID where this event is handled\n */\nexport function after(delay, id) {\n    var idSuffix = id ? \"#\" + id : '';\n    return ActionTypes.After + \"(\" + delay + \")\" + idSuffix;\n}\n/**\n * Returns an event that represents that a final state node\n * has been reached in the parent state node.\n *\n * @param id The final state node's parent state node `id`\n * @param data The data to pass into the event\n */\nexport function done(id, data) {\n    var type = ActionTypes.DoneState + \".\" + id;\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function () {\n        return type;\n    };\n    return eventObject;\n}\n/**\n * Returns an event that represents that an invoked service has terminated.\n *\n * An invoked service is terminated when it has reached a top-level final state node,\n * but not when it is canceled.\n *\n * @param id The final state node ID\n * @param data The data to pass into the event\n */\nexport function doneInvoke(id, data) {\n    var type = ActionTypes.DoneInvoke + \".\" + id;\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function () {\n        return type;\n    };\n    return eventObject;\n}\n/**\n * Invokes (spawns) a child service, as a separate interpreted machine.\n *\n * @param invokeConfig The string service to invoke, or a config object:\n *  - `src` - The source (URL) of the machine definition to invoke\n *  - `forward` - Whether events sent to this machine are sent (forwarded) to the\n *    invoked machine.\n * @param options\n */\nexport function invoke(invokeConfig, options) {\n    if (typeof invokeConfig === 'string') {\n        return __assign({ id: invokeConfig, src: invokeConfig, type: ActionTypes.Invoke }, options);\n    }\n    if (!('src' in invokeConfig)) {\n        var machine = invokeConfig;\n        return {\n            type: ActionTypes.Invoke,\n            id: machine.id,\n            src: machine\n        };\n    }\n    return __assign({ type: ActionTypes.Invoke }, invokeConfig, { id: invokeConfig.id || (typeof invokeConfig.src === 'string' ? invokeConfig.src : typeof invokeConfig.src === 'function' ? 'promise' : invokeConfig.src.id) });\n}\nexport function error(data, src) {\n    return {\n        src: src,\n        type: ActionTypes.ErrorExecution,\n        data: data\n    };\n}","var __read = this && this.__read || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    } catch (error) {\n        e = { error: error };\n    } finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally {\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __spread = this && this.__spread || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { EMPTY_ACTIVITY_MAP } from './constants';\nimport { matchesState, keys } from './utils';\nexport function stateValuesEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    var aKeys = keys(a);\n    var bKeys = keys(b);\n    return aKeys.length === bKeys.length && aKeys.every(function (key) {\n        return stateValuesEqual(a[key], b[key]);\n    });\n}\nvar State = /** @class */ /*#__PURE__*/function () {\n    /**\n     * Creates a new State instance.\n     * @param value The state value\n     * @param context The extended state\n     * @param historyValue The tree representing historical values of the state nodes\n     * @param history The previous state\n     * @param actions An array of action objects to execute as side-effects\n     * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\n     * @param meta\n     * @param events Internal event queue. Should be empty with run-to-completion semantics.\n     * @param tree\n     */\n    function State(config) {\n        this.actions = [];\n        this.activities = EMPTY_ACTIVITY_MAP;\n        this.meta = {};\n        this.events = [];\n        this.value = config.value;\n        this.context = config.context;\n        this.historyValue = config.historyValue;\n        this.history = config.history;\n        this.actions = config.actions || [];\n        this.activities = config.activities || EMPTY_ACTIVITY_MAP;\n        this.meta = config.meta || {};\n        this.events = config.events || [];\n        Object.defineProperty(this, 'tree', {\n            value: config.tree,\n            enumerable: false\n        });\n    }\n    /**\n     * Creates a new State instance for the given `stateValue` and `context`.\n     * @param stateValue\n     * @param context\n     */\n    State.from = function (stateValue, context) {\n        if (stateValue instanceof State) {\n            if (stateValue.context !== context) {\n                return new State({\n                    value: stateValue.value,\n                    context: context,\n                    historyValue: stateValue.historyValue,\n                    history: stateValue.history,\n                    actions: [],\n                    activities: stateValue.activities,\n                    meta: {},\n                    events: [],\n                    tree: stateValue.tree\n                });\n            }\n            return stateValue;\n        }\n        return new State({\n            value: stateValue,\n            context: context,\n            historyValue: undefined,\n            history: undefined,\n            actions: [],\n            activities: undefined,\n            meta: undefined,\n            events: []\n        });\n    };\n    /**\n     * Creates a new State instance for the given `config`.\n     * @param config The state config\n     */\n    State.create = function (config) {\n        return new State(config);\n    };\n    /**\n     * Creates a new State instance for the given `stateValue` and `context` with no actions (side-effects).\n     * @param stateValue\n     * @param context\n     */\n    State.inert = function (stateValue, context) {\n        if (stateValue instanceof State) {\n            if (!stateValue.actions.length) {\n                return stateValue;\n            }\n            return new State({\n                value: stateValue.value,\n                context: context,\n                historyValue: stateValue.historyValue,\n                history: stateValue.history,\n                activities: stateValue.activities,\n                tree: stateValue.tree\n            });\n        }\n        return State.from(stateValue, context);\n    };\n    Object.defineProperty(State.prototype, \"nextEvents\", {\n        /**\n         * The next events that will cause a transition from the current state.\n         */\n        get: function () {\n            if (!this.tree) {\n                return [];\n            }\n            return this.tree.nextEvents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns an array of all the string leaf state node paths.\n     * @param stateValue\n     * @param delimiter The character(s) that separate each subpath in the string state node path.\n     */\n    State.prototype.toStrings = function (stateValue, delimiter) {\n        var _this = this;\n        if (stateValue === void 0) {\n            stateValue = this.value;\n        }\n        if (delimiter === void 0) {\n            delimiter = '.';\n        }\n        if (typeof stateValue === 'string') {\n            return [stateValue];\n        }\n        var valueKeys = keys(stateValue);\n        return valueKeys.concat.apply(valueKeys, __spread(valueKeys.map(function (key) {\n            return _this.toStrings(stateValue[key]).map(function (s) {\n                return key + delimiter + s;\n            });\n        })));\n    };\n    /**\n     * Whether the current state value is a subset of the given parent state value.\n     * @param parentStateValue\n     */\n    State.prototype.matches = function (parentStateValue) {\n        return matchesState(parentStateValue, this.value);\n    };\n    Object.defineProperty(State.prototype, \"changed\", {\n        /**\n         * Indicates whether the state has changed from the previous state. A state is considered \"changed\" if:\n         *\n         * - Its value is not equal to its previous value, or:\n         * - It has any new actions (side-effects) to execute.\n         *\n         * An initial state (with no history) will return `undefined`.\n         */\n        get: function () {\n            if (!this.history) {\n                return undefined;\n            }\n            return !!this.actions.length || (typeof this.history.value !== typeof this.value ? true : typeof this.value === 'string' ? this.value !== this.history.value : stateValuesEqual(this.value, this.history.value));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return State;\n}();\nexport { State };","var __assign = this && this.__assign || function () {\n    __assign = Object.assign || function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    } catch (error) {\n        e = { error: error };\n    } finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally {\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __spread = this && this.__spread || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { mapValues, flatten, toStatePaths, keys, mapContext } from './utils';\nimport { matchesState } from './utils';\nimport { done } from './actions';\nvar defaultStateTreeOptions = {\n    resolved: false\n};\nvar StateTree = /** @class */ /*#__PURE__*/function () {\n    function StateTree(stateNode, _stateValue, options) {\n        var _a;\n        if (options === void 0) {\n            options = defaultStateTreeOptions;\n        }\n        this.stateNode = stateNode;\n        this._stateValue = _stateValue;\n        this.nodes = _stateValue ? typeof _stateValue === 'string' ? (_a = {}, _a[_stateValue] = new StateTree(stateNode.getStateNode(_stateValue), undefined), _a) : mapValues(_stateValue, function (subValue, key) {\n            return new StateTree(stateNode.getStateNode(key), subValue);\n        }) : {};\n        var resolvedOptions = __assign({}, defaultStateTreeOptions, options);\n        this.isResolved = resolvedOptions.resolved;\n    }\n    Object.defineProperty(StateTree.prototype, \"done\", {\n        get: function () {\n            var _this = this;\n            switch (this.stateNode.type) {\n                case 'final':\n                    return true;\n                case 'compound':\n                    var childTree = this.nodes[keys(this.nodes)[0]];\n                    return childTree.stateNode.type === 'final';\n                case 'parallel':\n                    return keys(this.nodes).some(function (key) {\n                        return _this.nodes[key].done;\n                    });\n                default:\n                    return false;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateTree.prototype.getDoneData = function (context, event) {\n        if (!this.done) {\n            return undefined;\n        }\n        if (this.stateNode.type === 'compound') {\n            var childTree = this.nodes[keys(this.nodes)[0]];\n            if (!childTree.stateNode.data) {\n                return undefined;\n            }\n            // console.log(childTree.stateNode.id, (childTree.stateNode as any)._config);\n            return mapContext(childTree.stateNode.data, context, event);\n        }\n        return undefined;\n    };\n    Object.defineProperty(StateTree.prototype, \"atomicNodes\", {\n        get: function () {\n            var _this = this;\n            if (this.stateNode.type === 'atomic' || this.stateNode.type === 'final') {\n                return [this.stateNode];\n            }\n            return flatten(keys(this.value).map(function (key) {\n                return _this.value[key].atomicNodes;\n            }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateTree.prototype.getDoneEvents = function (entryStateNodes) {\n        var _this = this;\n        // If no state nodes are being entered, no done events will be fired\n        if (!entryStateNodes || !entryStateNodes.size) {\n            return [];\n        }\n        if (entryStateNodes.has(this.stateNode) && this.stateNode.type === 'final') {\n            return [done(this.stateNode.id, this.stateNode.data)];\n        }\n        var childDoneEvents = flatten(keys(this.nodes).map(function (key) {\n            return _this.nodes[key].getDoneEvents(entryStateNodes);\n        }));\n        if (this.stateNode.type === 'parallel') {\n            var allChildrenDone = keys(this.nodes).every(function (key) {\n                return _this.nodes[key].done;\n            });\n            if (childDoneEvents && allChildrenDone) {\n                return [done(this.stateNode.id)].concat(childDoneEvents);\n            } else {\n                return childDoneEvents;\n            }\n        }\n        if (!this.done || !childDoneEvents.length) {\n            return childDoneEvents;\n        }\n        // TODO: handle merging strategy\n        // For compound state nodes with final child state, there should be only\n        // one done.state event (potentially with data).\n        var doneData = childDoneEvents.length === 1 ? childDoneEvents[0].data : undefined;\n        return [done(this.stateNode.id, doneData)].concat(childDoneEvents);\n    };\n    Object.defineProperty(StateTree.prototype, \"resolved\", {\n        get: function () {\n            return new StateTree(this.stateNode, this.stateNode.resolve(this.value), {\n                resolved: true\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateTree.prototype, \"paths\", {\n        get: function () {\n            return toStatePaths(this.value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateTree.prototype, \"absolute\", {\n        get: function () {\n            var _this = this;\n            var _stateValue = this._stateValue;\n            var absoluteStateValue = {};\n            var marker = absoluteStateValue;\n            this.stateNode.path.forEach(function (key, i) {\n                if (i === _this.stateNode.path.length - 1) {\n                    marker[key] = _stateValue;\n                } else {\n                    marker[key] = {};\n                    marker = marker[key];\n                }\n            });\n            return new StateTree(this.stateNode.machine, absoluteStateValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateTree.prototype, \"nextEvents\", {\n        get: function () {\n            var _this = this;\n            var ownEvents = this.stateNode.ownEvents;\n            var childEvents = flatten(keys(this.nodes).map(function (key) {\n                var subTree = _this.nodes[key];\n                return subTree.nextEvents;\n            }));\n            return __spread(new Set(childEvents.concat(ownEvents)));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateTree.prototype.clone = function () {\n        return new StateTree(this.stateNode, this.value);\n    };\n    StateTree.prototype.combine = function (tree) {\n        var _this = this;\n        var _a;\n        if (tree.stateNode !== this.stateNode) {\n            throw new Error('Cannot combine distinct trees');\n        }\n        if (this.stateNode.type === 'compound') {\n            // Only combine if no child state is defined\n            var newValue = void 0;\n            if (!keys(this.nodes).length || !keys(tree.nodes).length) {\n                newValue = Object.assign({}, this.nodes, tree.nodes);\n                var newTree = this.clone();\n                newTree.nodes = newValue;\n                return newTree;\n            } else {\n                var childKey = keys(this.nodes)[0];\n                newValue = (_a = {}, _a[childKey] = this.nodes[childKey].combine(tree.nodes[childKey]), _a);\n                var newTree = this.clone();\n                newTree.nodes = newValue;\n                return newTree;\n            }\n        }\n        if (this.stateNode.type === 'parallel') {\n            var valueKeys = new Set(__spread(keys(this.nodes), keys(tree.nodes)));\n            var newValue_1 = {};\n            valueKeys.forEach(function (key) {\n                if (!_this.nodes[key] || !tree.nodes[key]) {\n                    newValue_1[key] = _this.nodes[key] || tree.nodes[key];\n                } else {\n                    newValue_1[key] = _this.nodes[key].combine(tree.nodes[key]);\n                }\n            });\n            var newTree = this.clone();\n            newTree.nodes = newValue_1;\n            return newTree;\n        }\n        // nothing to do\n        return this;\n    };\n    Object.defineProperty(StateTree.prototype, \"value\", {\n        get: function () {\n            if (this.stateNode.type === 'atomic' || this.stateNode.type === 'final') {\n                return {};\n            }\n            if (this.stateNode.type === 'parallel') {\n                return mapValues(this.nodes, function (st) {\n                    return st.value;\n                });\n            }\n            if (this.stateNode.type === 'compound') {\n                if (keys(this.nodes).length === 0) {\n                    return {};\n                }\n                var childStateNode = this.nodes[keys(this.nodes)[0]].stateNode;\n                if (childStateNode.type === 'atomic' || childStateNode.type === 'final') {\n                    return childStateNode.key;\n                }\n                return mapValues(this.nodes, function (st) {\n                    return st.value;\n                });\n            }\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateTree.prototype.matches = function (parentValue) {\n        return matchesState(parentValue, this.value);\n    };\n    StateTree.prototype.getEntryExitStates = function (prevTree, externalNodes) {\n        var _this = this;\n        if (prevTree.stateNode !== this.stateNode) {\n            throw new Error('Cannot compare distinct trees');\n        }\n        switch (this.stateNode.type) {\n            case 'compound':\n                var r1 = {\n                    exit: [],\n                    entry: []\n                };\n                var currentChildKey = keys(this.nodes)[0];\n                var prevChildKey = keys(prevTree.nodes)[0];\n                if (currentChildKey !== prevChildKey) {\n                    r1.exit = prevTree.nodes[prevChildKey].getExitStates();\n                    r1.entry = this.nodes[currentChildKey].getEntryStates();\n                } else {\n                    r1 = this.nodes[currentChildKey].getEntryExitStates(prevTree.nodes[prevChildKey], externalNodes);\n                }\n                if (externalNodes && externalNodes.has(this.stateNode)) {\n                    r1.exit.push(this.stateNode);\n                    r1.entry.unshift(this.stateNode);\n                }\n                return r1;\n            case 'parallel':\n                var all = keys(this.nodes).map(function (key) {\n                    return _this.nodes[key].getEntryExitStates(prevTree.nodes[key], externalNodes);\n                });\n                var result_1 = {\n                    exit: [],\n                    entry: []\n                };\n                all.forEach(function (ees) {\n                    result_1.exit = __spread(result_1.exit, ees.exit);\n                    result_1.entry = __spread(result_1.entry, ees.entry);\n                });\n                if (externalNodes && externalNodes.has(this.stateNode)) {\n                    result_1.exit.push(this.stateNode);\n                    result_1.entry.unshift(this.stateNode);\n                }\n                return result_1;\n            case 'atomic':\n            default:\n                if (externalNodes && externalNodes.has(this.stateNode)) {\n                    return {\n                        exit: [this.stateNode],\n                        entry: [this.stateNode]\n                    };\n                }\n                return {\n                    exit: [],\n                    entry: []\n                };\n        }\n    };\n    StateTree.prototype.getEntryStates = function () {\n        var _this = this;\n        if (!this.nodes) {\n            return [this.stateNode];\n        }\n        return [this.stateNode].concat(flatten(keys(this.nodes).map(function (key) {\n            return _this.nodes[key].getEntryStates();\n        })));\n    };\n    StateTree.prototype.getExitStates = function () {\n        var _this = this;\n        if (!this.nodes) {\n            return [this.stateNode];\n        }\n        return flatten(keys(this.nodes).map(function (key) {\n            return _this.nodes[key].getExitStates();\n        })).concat(this.stateNode);\n    };\n    return StateTree;\n}();\nexport { StateTree };","var __assign = this && this.__assign || function () {\n    __assign = Object.assign || function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    return t;\n};\nvar __read = this && this.__read || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    } catch (error) {\n        e = { error: error };\n    } finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally {\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __spread = this && this.__spread || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = this && this.__values || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n        i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nimport { getEventType, toStatePath, toStateValue, mapValues, path, toStatePaths, pathToStateValue, flatten, mapFilterValues, nestedPath, toArray, keys } from './utils';\nimport { ActionTypes } from './types';\nimport { matchesState } from './utils';\nimport { State } from './State';\nimport * as actionTypes from './actionTypes';\nimport { start, stop, toEventObject, toActionObjects, toActivityDefinition, send, cancel, after, raise, done, doneInvoke, invoke, toActionObject } from './actions';\nimport { StateTree } from './StateTree';\nvar STATE_DELIMITER = '.';\nvar NULL_EVENT = '';\nvar STATE_IDENTIFIER = '#';\nvar TARGETLESS_KEY = '';\nvar EMPTY_OBJECT = {};\nvar isStateId = function (str) {\n    return str[0] === STATE_IDENTIFIER;\n};\nvar createDefaultOptions = function () {\n    return {\n        guards: EMPTY_OBJECT\n    };\n};\nvar IS_PRODUCTION = typeof process !== 'undefined' ? process.env.NODE_ENV === 'production' : true;\nvar StateNode = /** @class */ /*#__PURE__*/function () {\n    function StateNode(_config, options,\n    /**\n     * The initial extended state\n     */\n    context) {\n        if (options === void 0) {\n            options = createDefaultOptions();\n        }\n        var _this = this;\n        this._config = _config;\n        this.options = options;\n        this.context = context;\n        this.__cache = {\n            events: undefined,\n            relativeValue: new Map(),\n            initialState: undefined\n        };\n        this.idMap = {};\n        this.key = _config.key || _config.id || '(machine)';\n        this.parent = _config.parent;\n        this.machine = this.parent ? this.parent.machine : this;\n        this.path = this.parent ? this.parent.path.concat(this.key) : [];\n        this.delimiter = _config.delimiter || (this.parent ? this.parent.delimiter : STATE_DELIMITER);\n        this.id = _config.id || (this.machine ? __spread([this.machine.key], this.path).join(this.delimiter) : this.key);\n        this.type = _config.type || (_config.parallel ? 'parallel' : _config.states && keys(_config.states).length ? 'compound' : _config.history ? 'history' : 'atomic');\n        if (!IS_PRODUCTION && 'parallel' in _config) {\n            // tslint:disable-next-line:no-console\n            console.warn(\"The \\\"parallel\\\" property is deprecated and will be removed in version 4.1. \" + (_config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\" + this.type + \"'`\") + \" in the config for state node '\" + this.id + \"' instead.\");\n        }\n        this.initial = _config.initial;\n        this.order = _config.order || -1;\n        this.states = _config.states ? mapValues(_config.states, function (stateConfig, key, _, i) {\n            var _a;\n            var stateNode = new StateNode(__assign({}, stateConfig, { key: key, order: stateConfig.order === undefined ? stateConfig.order : i, parent: _this }));\n            Object.assign(_this.idMap, __assign((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n            return stateNode;\n        }) : EMPTY_OBJECT;\n        // History config\n        this.history = _config.history === true ? 'shallow' : _config.history || false;\n        this.transient = !!(_config.on && _config.on[NULL_EVENT]);\n        this.strict = !!_config.strict;\n        this.onEntry = toArray(_config.onEntry).map(function (action) {\n            return toActionObject(action);\n        });\n        this.onExit = toArray(_config.onExit).map(function (action) {\n            return toActionObject(action);\n        });\n        this.meta = _config.meta;\n        this.data = this.type === 'final' ? _config.data : undefined;\n        this.invoke = toArray(_config.invoke).map(function (invokeConfig) {\n            return invoke(invokeConfig);\n        });\n        this.activities = toArray(_config.activities).concat(this.invoke).map(function (activity) {\n            return _this.resolveActivity(activity);\n        });\n    }\n    /**\n     * Clones this state machine with custom options and context.\n     *\n     * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\n     * @param context Custom context (will override predefined context)\n     */\n    StateNode.prototype.withConfig = function (options, context) {\n        if (context === void 0) {\n            context = this.context;\n        }\n        var _a = this.options,\n            actions = _a.actions,\n            activities = _a.activities,\n            guards = _a.guards;\n        return new StateNode(this.definition, {\n            actions: __assign({}, actions, options.actions),\n            activities: __assign({}, activities, options.activities),\n            guards: __assign({}, guards, options.guards)\n        }, context);\n    };\n    /**\n     * Clones this state machine with custom context.\n     *\n     * @param context Custom context (will override predefined context, not recursive)\n     */\n    StateNode.prototype.withContext = function (context) {\n        return new StateNode(this.definition, this.options, context);\n    };\n    Object.defineProperty(StateNode.prototype, \"definition\", {\n        /**\n         * The well-structured state node definition.\n         */\n        get: function () {\n            return {\n                id: this.id,\n                key: this.key,\n                type: this.type,\n                initial: this.initial,\n                history: this.history,\n                states: mapValues(this.states, function (state) {\n                    return state.definition;\n                }),\n                on: this.on,\n                onEntry: this.onEntry,\n                onExit: this.onExit,\n                activities: this.activities || [],\n                meta: this.meta,\n                order: this.order || -1,\n                data: this.data\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"config\", {\n        /**\n         * The raw config used to create the machine.\n         */\n        get: function () {\n            var _a = this._config,\n                parent = _a.parent,\n                config = __rest(_a, [\"parent\"]);\n            return config;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"on\", {\n        /**\n         * The mapping of events to transitions.\n         */\n        get: function () {\n            return this.formatTransitions();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"transitions\", {\n        /**\n         * All the transitions that can be taken from this state node.\n         */\n        get: function () {\n            var _this = this;\n            return flatten(keys(this.on).map(function (event) {\n                return _this.on[event];\n            }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"after\", {\n        /**\n         * All delayed transitions from the config.\n         */\n        get: function () {\n            var _this = this;\n            var afterConfig = this.config.after;\n            if (!afterConfig) {\n                return [];\n            }\n            if (Array.isArray(afterConfig)) {\n                return afterConfig.map(function (delayedTransition) {\n                    return __assign({ event: after(delayedTransition.delay, _this.id) }, delayedTransition, { actions: toArray(delayedTransition.actions).map(function (action) {\n                            return toActionObject(action);\n                        }) });\n                });\n            }\n            var allDelayedTransitions = flatten(keys(afterConfig).map(function (delayKey) {\n                var delayedTransition = afterConfig[delayKey];\n                var delay = +delayKey;\n                var event = after(delay, _this.id);\n                if (typeof delayedTransition === 'string') {\n                    return [{ target: delayedTransition, delay: delay, event: event, actions: [] }];\n                }\n                var delayedTransitions = toArray(delayedTransition);\n                return delayedTransitions.map(function (transition) {\n                    return __assign({ event: event,\n                        delay: delay }, transition, { actions: toArray(transition.actions).map(function (action) {\n                            return toActionObject(action);\n                        }) });\n                });\n            }));\n            allDelayedTransitions.sort(function (a, b) {\n                return a.delay - b.delay;\n            });\n            return allDelayedTransitions;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns the state nodes represented by the current state value.\n     *\n     * @param state The state value or State instance\n     */\n    StateNode.prototype.getStateNodes = function (state) {\n        var _this = this;\n        var _a;\n        if (!state) {\n            return [];\n        }\n        var stateValue = state instanceof State ? state.value : toStateValue(state, this.delimiter);\n        if (typeof stateValue === 'string') {\n            var initialStateValue = this.getStateNode(stateValue).initial;\n            return initialStateValue ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [this.states[stateValue]];\n        }\n        var subStateKeys = keys(stateValue);\n        var subStateNodes = subStateKeys.map(function (subStateKey) {\n            return _this.getStateNode(subStateKey);\n        });\n        return subStateNodes.concat(subStateKeys.reduce(function (allSubStateNodes, subStateKey) {\n            var subStateNode = _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n            return allSubStateNodes.concat(subStateNode);\n        }, []));\n    };\n    /**\n     * Whether this state node explicitly handles the given event.\n     *\n     * @param event The event in question\n     */\n    StateNode.prototype.handles = function (event) {\n        var eventType = getEventType(event);\n        return this.events.indexOf(eventType) !== -1;\n    };\n    StateNode.prototype.transitionLeafNode = function (stateValue, state, eventObject, context) {\n        var stateNode = this.getStateNode(stateValue);\n        var next = stateNode.next(state, eventObject, context);\n        if (!next.tree) {\n            var _a = this.next(state, eventObject, context),\n                reentryStates = _a.reentryStates,\n                actions = _a.actions,\n                tree = _a.tree;\n            return {\n                tree: tree,\n                source: state,\n                reentryStates: reentryStates,\n                actions: actions\n            };\n        }\n        return next;\n    };\n    StateNode.prototype.transitionCompoundNode = function (stateValue, state, eventObject, context) {\n        var subStateKeys = keys(stateValue);\n        var stateNode = this.getStateNode(subStateKeys[0]);\n        var next = stateNode._transition(stateValue[subStateKeys[0]], state, eventObject, context);\n        if (!next.tree) {\n            var _a = this.next(state, eventObject, context),\n                reentryStates = _a.reentryStates,\n                actions = _a.actions,\n                tree = _a.tree;\n            return {\n                tree: tree,\n                source: state,\n                reentryStates: reentryStates,\n                actions: actions\n            };\n        }\n        return next;\n    };\n    StateNode.prototype.transitionParallelNode = function (stateValue, state, eventObject, context) {\n        var _this = this;\n        var noTransitionKeys = [];\n        var transitionMap = {};\n        keys(stateValue).forEach(function (subStateKey) {\n            var subStateValue = stateValue[subStateKey];\n            if (!subStateValue) {\n                return;\n            }\n            var subStateNode = _this.getStateNode(subStateKey);\n            var next = subStateNode._transition(subStateValue, state, eventObject, context);\n            if (!next.tree) {\n                noTransitionKeys.push(subStateKey);\n            }\n            transitionMap[subStateKey] = next;\n        });\n        var willTransition = keys(transitionMap).some(function (key) {\n            return transitionMap[key].tree !== undefined;\n        });\n        if (!willTransition) {\n            var _a = this.next(state, eventObject, context),\n                reentryStates = _a.reentryStates,\n                actions = _a.actions,\n                tree = _a.tree;\n            return {\n                tree: tree,\n                source: state,\n                reentryStates: reentryStates,\n                actions: actions\n            };\n        }\n        var allTrees = keys(transitionMap).map(function (key) {\n            return transitionMap[key].tree;\n        }).filter(function (t) {\n            return t !== undefined;\n        });\n        var combinedTree = allTrees.reduce(function (acc, t) {\n            return acc.combine(t);\n        });\n        var allPaths = combinedTree.paths;\n        // External transition that escapes orthogonal region\n        if (allPaths.length === 1 && !matchesState(toStateValue(this.path, this.delimiter), combinedTree.value)) {\n            return {\n                tree: combinedTree,\n                source: state,\n                reentryStates: keys(transitionMap).map(function (key) {\n                    return transitionMap[key].reentryStates;\n                }).reduce(function (allReentryStates, reentryStates) {\n                    return new Set(__spread(Array.from(allReentryStates || []), Array.from(reentryStates || [])));\n                }, new Set()),\n                actions: flatten(keys(transitionMap).map(function (key) {\n                    return transitionMap[key].actions;\n                }))\n            };\n        }\n        var allResolvedTrees = keys(transitionMap).map(function (key) {\n            var transition = transitionMap[key];\n            var subValue = path(_this.path)(transition.tree ? transition.tree.value : state.value || state.value)[key];\n            return new StateTree(_this.getStateNode(key), subValue).absolute;\n        });\n        var finalCombinedTree = allResolvedTrees.reduce(function (acc, t) {\n            return acc.combine(t);\n        });\n        return {\n            tree: finalCombinedTree,\n            source: state,\n            reentryStates: keys(transitionMap).reduce(function (allReentryStates, key) {\n                var _a = transitionMap[key],\n                    tree = _a.tree,\n                    reentryStates = _a.reentryStates;\n                // If the event was not handled (no subStateValue),\n                // machine should still be in state without reentry/exit.\n                if (!tree || !reentryStates) {\n                    return allReentryStates;\n                }\n                return new Set(__spread(Array.from(allReentryStates), Array.from(reentryStates)));\n            }, new Set()),\n            actions: flatten(keys(transitionMap).map(function (key) {\n                return transitionMap[key].actions;\n            }))\n        };\n    };\n    StateNode.prototype._transition = function (stateValue, state, event, context) {\n        // leaf node\n        if (typeof stateValue === 'string') {\n            return this.transitionLeafNode(stateValue, state, event, context);\n        }\n        // hierarchical node\n        if (keys(stateValue).length === 1) {\n            return this.transitionCompoundNode(stateValue, state, event, context);\n        }\n        // orthogonal node\n        return this.transitionParallelNode(stateValue, state, event, context);\n    };\n    StateNode.prototype.next = function (state, eventObject, context) {\n        var _this = this;\n        var e_1, _a;\n        var eventType = eventObject.type;\n        var candidates = this.on[eventType];\n        var actions = this.transient ? [{ type: actionTypes.nullEvent }] : [];\n        if (!candidates || !candidates.length) {\n            return {\n                tree: undefined,\n                source: state,\n                reentryStates: undefined,\n                actions: actions\n            };\n        }\n        var nextStateStrings = [];\n        var selectedTransition;\n        try {\n            for (var candidates_1 = __values(candidates), candidates_1_1 = candidates_1.next(); !candidates_1_1.done; candidates_1_1 = candidates_1.next()) {\n                var candidate = candidates_1_1.value;\n                var _b = candidate,\n                    cond = _b.cond,\n                    stateIn = _b.in;\n                var resolvedContext = context || EMPTY_OBJECT;\n                var isInState = stateIn ? typeof stateIn === 'string' && isStateId(stateIn) ? // Check if in state by ID\n                state.matches(toStateValue(this.getStateNodeById(stateIn).path, this.delimiter)) : // Check if in state by relative grandparent\n                matchesState(toStateValue(stateIn, this.delimiter), path(this.path.slice(0, -2))(state.value)) : true;\n                if ((!cond || this.evaluateGuard(cond, resolvedContext, eventObject, state.value)) && isInState) {\n                    nextStateStrings = toArray(candidate.target);\n                    actions.push.apply(actions, __spread(toArray(candidate.actions)));\n                    selectedTransition = candidate;\n                    break;\n                }\n            }\n        } catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        } finally {\n            try {\n                if (candidates_1_1 && !candidates_1_1.done && (_a = candidates_1.return)) _a.call(candidates_1);\n            } finally {\n                if (e_1) throw e_1.error;\n            }\n        }\n        // targetless transition\n        if (selectedTransition && nextStateStrings.length === 0) {\n            var tree = state.value ? this.machine.getStateTree(state.value) : undefined;\n            return {\n                tree: tree,\n                source: state,\n                reentryStates: undefined,\n                actions: actions\n            };\n        }\n        if (!selectedTransition && nextStateStrings.length === 0) {\n            return {\n                tree: undefined,\n                source: state,\n                reentryStates: undefined,\n                actions: actions\n            };\n        }\n        var nextStateNodes = flatten(nextStateStrings.map(function (str) {\n            return _this.getRelativeStateNodes(str, state.historyValue);\n        }));\n        var isInternal = !!selectedTransition.internal;\n        var reentryNodes = isInternal ? [] : flatten(nextStateNodes.map(function (n) {\n            return _this.nodesFromChild(n);\n        }));\n        var trees = nextStateNodes.map(function (stateNode) {\n            return stateNode.tree;\n        });\n        var combinedTree = trees.reduce(function (acc, t) {\n            return acc.combine(t);\n        });\n        return {\n            tree: combinedTree,\n            source: state,\n            reentryStates: new Set(reentryNodes),\n            actions: actions\n        };\n    };\n    Object.defineProperty(StateNode.prototype, \"tree\", {\n        /**\n         * The state tree represented by this state node.\n         */\n        get: function () {\n            var stateValue = toStateValue(this.path, this.delimiter);\n            return new StateTree(this.machine, stateValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.nodesFromChild = function (childStateNode) {\n        if (childStateNode.escapes(this)) {\n            return [];\n        }\n        var nodes = [];\n        var marker = childStateNode;\n        while (marker && marker !== this) {\n            nodes.push(marker);\n            marker = marker.parent;\n        }\n        nodes.push(this); // inclusive\n        return nodes;\n    };\n    StateNode.prototype.getStateTree = function (stateValue) {\n        return new StateTree(this, stateValue);\n    };\n    /**\n     * Whether the given state node \"escapes\" this state node. If the `stateNode` is equal to or the parent of\n     * this state node, it does not escape.\n     */\n    StateNode.prototype.escapes = function (stateNode) {\n        if (this === stateNode) {\n            return false;\n        }\n        var parent = this.parent;\n        while (parent) {\n            if (parent === stateNode) {\n                return false;\n            }\n            parent = parent.parent;\n        }\n        return true;\n    };\n    StateNode.prototype.evaluateGuard = function (condition, context, eventObject, interimState) {\n        var condFn;\n        var guards = this.machine.options.guards;\n        if (typeof condition === 'string') {\n            if (!guards || !guards[condition]) {\n                throw new Error(\"Condition '\" + condition + \"' is not implemented on machine '\" + this.machine.id + \"'.\");\n            }\n            condFn = guards[condition];\n        } else {\n            condFn = condition;\n        }\n        return condFn(context, eventObject, interimState);\n    };\n    Object.defineProperty(StateNode.prototype, \"delays\", {\n        /**\n         * The array of all delayed transitions.\n         */\n        get: function () {\n            var _this = this;\n            var delays = Array.from(new Set(this.transitions.map(function (transition) {\n                return transition.delay;\n            }).filter(function (delay) {\n                return delay !== undefined;\n            })));\n            return delays.map(function (delay) {\n                return {\n                    id: _this.id,\n                    delay: delay\n                };\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.getActions = function (transition, prevState) {\n        var _this = this;\n        var entryExitStates = transition.tree ? transition.tree.resolved.getEntryExitStates(this.getStateTree(prevState.value), transition.reentryStates ? transition.reentryStates : undefined) : { entry: [], exit: [] };\n        var doneEvents = transition.tree ? transition.tree.getDoneEvents(new Set(entryExitStates.entry)) : [];\n        if (!transition.source) {\n            entryExitStates.exit = [];\n        }\n        var entryExitActions = {\n            entry: flatten(Array.from(new Set(entryExitStates.entry)).map(function (stateNode) {\n                return __spread(stateNode.onEntry, stateNode.activities.map(function (activity) {\n                    return start(activity);\n                }), stateNode.delays.map(function (_a) {\n                    var delay = _a.delay,\n                        id = _a.id;\n                    return send(after(delay, id), { delay: delay });\n                }));\n            })).concat(doneEvents.map(raise)),\n            exit: flatten(Array.from(new Set(entryExitStates.exit)).map(function (stateNode) {\n                return __spread(stateNode.onExit, stateNode.activities.map(function (activity) {\n                    return stop(activity);\n                }), stateNode.delays.map(function (_a) {\n                    var delay = _a.delay,\n                        id = _a.id;\n                    return cancel(after(delay, id));\n                }));\n            }))\n        };\n        var actions = entryExitActions.exit.concat(transition.actions).concat(entryExitActions.entry).map(function (action) {\n            return _this.resolveAction(action);\n        });\n        return actions;\n    };\n    StateNode.prototype.resolveAction = function (action) {\n        return toActionObject(action, this.machine.options.actions);\n    };\n    StateNode.prototype.resolveActivity = function (activity) {\n        var activityDefinition = toActivityDefinition(activity);\n        return activityDefinition;\n    };\n    StateNode.prototype.getActivities = function (entryExitStates, activities) {\n        if (!entryExitStates) {\n            return EMPTY_OBJECT;\n        }\n        var activityMap = __assign({}, activities);\n        Array.from(entryExitStates.exit).forEach(function (stateNode) {\n            stateNode.activities.forEach(function (activity) {\n                activityMap[activity.type] = false;\n            });\n        });\n        Array.from(entryExitStates.entry).forEach(function (stateNode) {\n            stateNode.activities.forEach(function (activity) {\n                activityMap[activity.type] = true;\n            });\n        });\n        return activityMap;\n    };\n    /**\n     * Determines the next state given the current `state` and sent `event`.\n     *\n     * @param state The current State instance or state value\n     * @param event The event that was sent at the current state\n     * @param context The current context (extended state) of the current state\n     */\n    StateNode.prototype.transition = function (state, event, context) {\n        var resolvedStateValue = typeof state === 'string' ? this.resolve(pathToStateValue(this.getResolvedPath(state))) : state instanceof State ? state : this.resolve(state);\n        var resolvedContext = context ? context : state instanceof State ? state.context : this.machine.context;\n        var eventObject = toEventObject(event);\n        var eventType = eventObject.type;\n        if (this.strict) {\n            if (this.events.indexOf(eventType) === -1) {\n                throw new Error(\"Machine '\" + this.id + \"' does not accept event '\" + eventType + \"'\");\n            }\n        }\n        var currentState = State.from(resolvedStateValue, resolvedContext);\n        var stateTransition = this._transition(currentState.value, currentState, eventObject, resolvedContext);\n        var resolvedStateTransition = __assign({}, stateTransition, { tree: stateTransition.tree ? stateTransition.tree.resolved : undefined });\n        return this.resolveTransition(resolvedStateTransition, currentState, eventObject);\n    };\n    StateNode.prototype.resolveTransition = function (stateTransition, currentState, event) {\n        var _a;\n        var resolvedStateValue = stateTransition.tree ? stateTransition.tree.value : undefined;\n        var historyValue = currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined;\n        if (!IS_PRODUCTION && stateTransition.tree) {\n            try {\n                this.ensureValidPaths(stateTransition.tree.paths); // TODO: ensure code coverage for this\n            } catch (e) {\n                throw new Error(\"Event '\" + (event ? event.type : 'none') + \"' leads to an invalid configuration: \" + e.message);\n            }\n        }\n        var actions = this.getActions(stateTransition, currentState);\n        var entryExitStates = stateTransition.tree ? stateTransition.tree.getEntryExitStates(this.getStateTree(currentState.value)) : { entry: [], exit: [] };\n        var activities = stateTransition.tree ? this.getActivities({\n            entry: new Set(entryExitStates.entry),\n            exit: new Set(entryExitStates.exit)\n        }, currentState.activities) : {};\n        var raisedEvents = actions.filter(function (action) {\n            return action.type === actionTypes.raise || action.type === actionTypes.nullEvent;\n        });\n        var nonEventActions = actions.filter(function (action) {\n            return action.type !== actionTypes.raise && action.type !== actionTypes.nullEvent && action.type !== actionTypes.assign;\n        });\n        var assignActions = actions.filter(function (action) {\n            return action.type === actionTypes.assign;\n        });\n        var updatedContext = StateNode.updateContext(currentState.context, event, assignActions);\n        var stateNodes = resolvedStateValue ? this.getStateNodes(resolvedStateValue) : [];\n        var isTransient = stateNodes.some(function (stateNode) {\n            return stateNode.transient;\n        });\n        if (isTransient) {\n            raisedEvents.push({ type: actionTypes.nullEvent });\n        }\n        var meta = __spread([this], stateNodes).reduce(function (acc, stateNode) {\n            if (stateNode.meta !== undefined) {\n                acc[stateNode.id] = stateNode.meta;\n            }\n            return acc;\n        }, {});\n        var nextState = resolvedStateValue ? new State({\n            value: resolvedStateValue,\n            context: updatedContext,\n            historyValue: historyValue ? StateNode.updateHistoryValue(historyValue, resolvedStateValue) : undefined,\n            history: stateTransition.source ? currentState : undefined,\n            actions: toActionObjects(nonEventActions, this.options.actions),\n            activities: activities,\n            meta: meta,\n            events: raisedEvents,\n            tree: stateTransition.tree\n        }) : undefined;\n        if (!nextState) {\n            // Unchanged state should be returned with no actions\n            return State.inert(currentState, updatedContext);\n        }\n        // Dispose of penultimate histories to prevent memory leaks\n        if (currentState.history) {\n            delete currentState.history.history;\n        }\n        var maybeNextState = nextState;\n        while (raisedEvents.length) {\n            var currentActions = maybeNextState.actions;\n            var raisedEvent = raisedEvents.shift();\n            maybeNextState = this.transition(maybeNextState, raisedEvent.type === actionTypes.nullEvent ? NULL_EVENT : raisedEvent.event, maybeNextState.context);\n            (_a = maybeNextState.actions).unshift.apply(_a, __spread(currentActions));\n        }\n        return maybeNextState;\n    };\n    StateNode.updateContext = function (context, event, assignActions) {\n        var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n            var assignment = assignAction.assignment;\n            var partialUpdate = {};\n            if (typeof assignment === 'function') {\n                partialUpdate = assignment(acc, event || { type: ActionTypes.Init });\n            } else {\n                keys(assignment).forEach(function (key) {\n                    var propAssignment = assignment[key];\n                    partialUpdate[key] = typeof propAssignment === 'function' ? propAssignment(acc, event) : propAssignment;\n                });\n            }\n            return Object.assign({}, acc, partialUpdate);\n        }, context) : context;\n        return updatedContext;\n    };\n    StateNode.prototype.ensureValidPaths = function (paths) {\n        var _this = this;\n        var e_2, _a;\n        var visitedParents = new Map();\n        var stateNodes = flatten(paths.map(function (_path) {\n            return _this.getRelativeStateNodes(_path);\n        }));\n        try {\n            outer: for (var stateNodes_1 = __values(stateNodes), stateNodes_1_1 = stateNodes_1.next(); !stateNodes_1_1.done; stateNodes_1_1 = stateNodes_1.next()) {\n                var stateNode = stateNodes_1_1.value;\n                var marker = stateNode;\n                while (marker.parent) {\n                    if (visitedParents.has(marker.parent)) {\n                        if (marker.parent.type === 'parallel') {\n                            continue outer;\n                        }\n                        throw new Error(\"State node '\" + stateNode.id + \"' shares parent '\" + marker.parent.id + \"' with state node '\" + visitedParents.get(marker.parent).map(function (a) {\n                            return a.id;\n                        }) + \"'\");\n                    }\n                    if (!visitedParents.get(marker.parent)) {\n                        visitedParents.set(marker.parent, [stateNode]);\n                    } else {\n                        visitedParents.get(marker.parent).push(stateNode);\n                    }\n                    marker = marker.parent;\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        } finally {\n            try {\n                if (stateNodes_1_1 && !stateNodes_1_1.done && (_a = stateNodes_1.return)) _a.call(stateNodes_1);\n            } finally {\n                if (e_2) throw e_2.error;\n            }\n        }\n    };\n    /**\n     * Returns the child state node from its relative `stateKey`, or throws.\n     */\n    StateNode.prototype.getStateNode = function (stateKey) {\n        if (isStateId(stateKey)) {\n            return this.machine.getStateNodeById(stateKey);\n        }\n        if (!this.states) {\n            throw new Error(\"Unable to retrieve child state '\" + stateKey + \"' from '\" + this.id + \"'; no child states exist.\");\n        }\n        var result = this.states[stateKey];\n        if (!result) {\n            throw new Error(\"Child state '\" + stateKey + \"' does not exist on '\" + this.id + \"'\");\n        }\n        return result;\n    };\n    /**\n     * Returns the state node with the given `stateId`, or throws.\n     *\n     * @param stateId The state ID. The prefix \"#\" is removed.\n     */\n    StateNode.prototype.getStateNodeById = function (stateId) {\n        var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n        if (resolvedStateId === this.id) {\n            return this;\n        }\n        var stateNode = this.machine.idMap[resolvedStateId];\n        if (!stateNode) {\n            throw new Error(\"Substate '#\" + resolvedStateId + \"' does not exist on '\" + this.id + \"'\");\n        }\n        return stateNode;\n    };\n    /**\n     * Returns the relative state node from the given `statePath`, or throws.\n     *\n     * @param statePath The string or string array relative path to the state node.\n     */\n    StateNode.prototype.getStateNodeByPath = function (statePath) {\n        var arrayStatePath = toStatePath(statePath, this.delimiter).slice();\n        var currentStateNode = this;\n        while (arrayStatePath.length) {\n            var key = arrayStatePath.shift();\n            currentStateNode = currentStateNode.getStateNode(key);\n        }\n        return currentStateNode;\n    };\n    /**\n     * Resolves a partial state value with its full representation in this machine.\n     *\n     * @param stateValue The partial state value to resolve.\n     */\n    StateNode.prototype.resolve = function (stateValue) {\n        var _this = this;\n        var _a;\n        if (!stateValue) {\n            return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n        }\n        switch (this.type) {\n            case 'parallel':\n                return mapValues(this.initialStateValue, function (subStateValue, subStateKey) {\n                    var sv = subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n                    return sv;\n                });\n            case 'compound':\n                if (typeof stateValue === 'string') {\n                    var subStateNode = this.getStateNode(stateValue);\n                    if (subStateNode.type === 'parallel' || subStateNode.type === 'compound') {\n                        return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n                    }\n                    return stateValue;\n                }\n                if (!keys(stateValue).length) {\n                    return this.initialStateValue || {};\n                }\n                return mapValues(stateValue, function (subStateValue, subStateKey) {\n                    return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n                });\n            default:\n                return stateValue || EMPTY_OBJECT;\n        }\n    };\n    Object.defineProperty(StateNode.prototype, \"resolvedStateValue\", {\n        get: function () {\n            var _a, _b;\n            var key = this.key;\n            if (this.type === 'parallel') {\n                return _a = {}, _a[key] = mapFilterValues(this.states, function (stateNode) {\n                    return stateNode.resolvedStateValue[stateNode.key];\n                }, function (stateNode) {\n                    return !(stateNode.type === 'history');\n                }), _a;\n            }\n            if (!this.initial) {\n                // If leaf node, value is just the state node's key\n                return key;\n            }\n            return _b = {}, _b[key] = this.states[this.initial].resolvedStateValue, _b;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.getResolvedPath = function (stateIdentifier) {\n        if (isStateId(stateIdentifier)) {\n            var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n            if (!stateNode) {\n                throw new Error(\"Unable to find state node '\" + stateIdentifier + \"'\");\n            }\n            return stateNode.path;\n        }\n        return toStatePath(stateIdentifier, this.delimiter);\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n        get: function () {\n            if (this.__cache.initialState) {\n                return this.__cache.initialState;\n            }\n            var initialStateValue = this.type === 'parallel' ? mapFilterValues(this.states, function (state) {\n                return state.initialStateValue || EMPTY_OBJECT;\n            }, function (stateNode) {\n                return !(stateNode.type === 'history');\n            }) : typeof this.resolvedStateValue === 'string' ? undefined : this.resolvedStateValue[this.key];\n            this.__cache.initialState = initialStateValue;\n            return this.__cache.initialState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.getInitialState = function (stateValue, context) {\n        if (context === void 0) {\n            context = this.machine.context;\n        }\n        var activityMap = {};\n        var actions = [];\n        this.getStateNodes(stateValue).forEach(function (stateNode) {\n            if (stateNode.onEntry) {\n                actions.push.apply(actions, __spread(stateNode.onEntry));\n            }\n            if (stateNode.activities) {\n                stateNode.activities.forEach(function (activity) {\n                    activityMap[getEventType(activity)] = true;\n                    actions.push(start(activity));\n                });\n            }\n        });\n        var assignActions = actions.filter(function (action) {\n            return typeof action === 'object' && action.type === actionTypes.assign;\n        });\n        var updatedContext = StateNode.updateContext(context, undefined, assignActions);\n        var initialNextState = new State({\n            value: stateValue,\n            context: updatedContext,\n            activities: activityMap\n        });\n        return initialNextState;\n    };\n    Object.defineProperty(StateNode.prototype, \"initialState\", {\n        /**\n         * The initial State instance, which includes all actions to be executed from\n         * entering the initial state.\n         */\n        get: function () {\n            var initialStateValue = this.initialStateValue;\n            if (!initialStateValue) {\n                throw new Error(\"Cannot retrieve initial state from simple state '\" + this.id + \"'.\");\n            }\n            var state = this.getInitialState(initialStateValue);\n            return this.resolveTransition({\n                tree: this.getStateTree(initialStateValue),\n                source: undefined,\n                reentryStates: new Set(this.getStateNodes(initialStateValue)),\n                actions: []\n            }, state, undefined);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"target\", {\n        /**\n         * The target state value of the history state node, if it exists. This represents the\n         * default state value to transition to if no history value exists yet.\n         */\n        get: function () {\n            var target;\n            if (this.type === 'history') {\n                var historyConfig = this.config;\n                if (historyConfig.target && typeof historyConfig.target === 'string') {\n                    target = isStateId(historyConfig.target) ? pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n                } else {\n                    target = historyConfig.target;\n                }\n            }\n            return target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.getStates = function (stateValue) {\n        var _this = this;\n        if (typeof stateValue === 'string') {\n            return [this.states[stateValue]];\n        }\n        var stateNodes = [];\n        keys(stateValue).forEach(function (key) {\n            stateNodes.push.apply(stateNodes, __spread(_this.states[key].getStates(stateValue[key])));\n        });\n        return stateNodes;\n    };\n    /**\n     * Returns the leaf nodes from a state path relative to this state node.\n     *\n     * @param relativeStateId The relative state path to retrieve the state nodes\n     * @param history The previous state to retrieve history\n     * @param resolve Whether state nodes should resolve to initial child state nodes\n     */\n    StateNode.prototype.getRelativeStateNodes = function (relativeStateId, historyValue, resolve) {\n        if (resolve === void 0) {\n            resolve = true;\n        }\n        if (typeof relativeStateId === 'string' && isStateId(relativeStateId)) {\n            var unresolvedStateNode = this.getStateNodeById(relativeStateId);\n            return resolve ? unresolvedStateNode.type === 'history' ? unresolvedStateNode.resolveHistory(historyValue) : unresolvedStateNode.initialStateNodes : [unresolvedStateNode];\n        }\n        var statePath = toStatePath(relativeStateId, this.delimiter);\n        var rootStateNode = this.parent || this;\n        var unresolvedStateNodes = rootStateNode.getFromRelativePath(statePath, historyValue);\n        if (!resolve) {\n            return unresolvedStateNodes;\n        }\n        return flatten(unresolvedStateNodes.map(function (stateNode) {\n            return stateNode.initialStateNodes;\n        }));\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n        get: function () {\n            var _this = this;\n            if (this.type === 'atomic' || this.type === 'final') {\n                return [this];\n            }\n            // Case when state node is compound but no initial state is defined\n            if (this.type === 'compound' && !this.initial) {\n                if (!IS_PRODUCTION) {\n                    // tslint:disable-next-line:no-console\n                    console.warn(\"Compound state node '\" + this.id + \"' has no initial state.\");\n                }\n                return [this];\n            }\n            var initialStateValue = this.initialStateValue;\n            var initialStateNodePaths = toStatePaths(initialStateValue);\n            return flatten(initialStateNodePaths.map(function (initialPath) {\n                return _this.getFromRelativePath(initialPath);\n            }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Retrieves state nodes from a relative path to this state node.\n     *\n     * @param relativePath The relative path from this state node\n     * @param historyValue\n     */\n    StateNode.prototype.getFromRelativePath = function (relativePath, historyValue) {\n        if (!relativePath.length) {\n            return [this];\n        }\n        var _a = __read(relativePath),\n            x = _a[0],\n            xs = _a.slice(1);\n        if (!this.states) {\n            throw new Error(\"Cannot retrieve subPath '\" + x + \"' from node with no states\");\n        }\n        var childStateNode = this.getStateNode(x);\n        if (childStateNode.type === 'history') {\n            return childStateNode.resolveHistory(historyValue);\n        }\n        if (!this.states[x]) {\n            throw new Error(\"Child state '\" + x + \"' does not exist on '\" + this.id + \"'\");\n        }\n        return this.states[x].getFromRelativePath(xs, historyValue);\n    };\n    StateNode.updateHistoryValue = function (hist, stateValue) {\n        function update(_hist, _sv) {\n            return mapValues(_hist.states, function (subHist, key) {\n                if (!subHist) {\n                    return undefined;\n                }\n                var subStateValue = (typeof _sv === 'string' ? undefined : _sv[key]) || (subHist ? subHist.current : undefined);\n                if (!subStateValue) {\n                    return undefined;\n                }\n                return {\n                    current: subStateValue,\n                    states: update(subHist, subStateValue)\n                };\n            });\n        }\n        return {\n            current: stateValue,\n            states: update(hist, stateValue)\n        };\n    };\n    StateNode.prototype.historyValue = function (relativeStateValue) {\n        if (!keys(this.states).length) {\n            return undefined;\n        }\n        return {\n            current: relativeStateValue || this.initialStateValue,\n            states: mapFilterValues(this.states, function (stateNode, key) {\n                if (!relativeStateValue) {\n                    return stateNode.historyValue();\n                }\n                var subStateValue = typeof relativeStateValue === 'string' ? undefined : relativeStateValue[key];\n                return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n            }, function (stateNode) {\n                return !stateNode.history;\n            })\n        };\n    };\n    /**\n     * Resolves to the historical value(s) of the parent state node,\n     * represented by state nodes.\n     *\n     * @param historyValue\n     */\n    StateNode.prototype.resolveHistory = function (historyValue) {\n        var _this = this;\n        if (this.type !== 'history') {\n            return [this];\n        }\n        var parent = this.parent;\n        if (!historyValue) {\n            return this.target ? flatten(toStatePaths(this.target).map(function (relativeChildPath) {\n                return parent.getFromRelativePath(relativeChildPath);\n            })) : this.parent.initialStateNodes;\n        }\n        var subHistoryValue = nestedPath(parent.path, 'states')(historyValue).current;\n        if (typeof subHistoryValue === 'string') {\n            return [parent.getStateNode(subHistoryValue)];\n        }\n        return flatten(toStatePaths(subHistoryValue).map(function (subStatePath) {\n            return _this.history === 'deep' ? parent.getFromRelativePath(subStatePath) : [parent.states[subStatePath[0]]];\n        }));\n    };\n    Object.defineProperty(StateNode.prototype, \"stateIds\", {\n        /**\n         * All the state node IDs of this state node and its descendant state nodes.\n         */\n        get: function () {\n            var _this = this;\n            var childStateIds = flatten(keys(this.states).map(function (stateKey) {\n                return _this.states[stateKey].stateIds;\n            }));\n            return [this.id].concat(childStateIds);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"events\", {\n        /**\n         * All the event types accepted by this state node and its descendants.\n         */\n        get: function () {\n            if (this.__cache.events) {\n                return this.__cache.events;\n            }\n            var states = this.states;\n            var events = new Set(this.ownEvents);\n            if (states) {\n                keys(states).forEach(function (stateId) {\n                    var e_3, _a;\n                    var state = states[stateId];\n                    if (state.states) {\n                        try {\n                            for (var _b = __values(state.events), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var event_1 = _c.value;\n                                events.add(\"\" + event_1);\n                            }\n                        } catch (e_3_1) {\n                            e_3 = { error: e_3_1 };\n                        } finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                            } finally {\n                                if (e_3) throw e_3.error;\n                            }\n                        }\n                    }\n                });\n            }\n            return this.__cache.events = Array.from(events);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n        /**\n         * All the events that have transitions directly from this state node.\n         *\n         * Excludes any inert events.\n         */\n        get: function () {\n            var _this = this;\n            var events = new Set(keys(this.on).filter(function (key) {\n                var transitions = _this.on[key];\n                return transitions.some(function (transition) {\n                    return !(!transition.target && !transition.actions.length && transition.internal);\n                });\n            }));\n            return Array.from(events);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StateNode.prototype.formatTransition = function (target, transitionConfig, event) {\n        var _this = this;\n        var internal = transitionConfig ? transitionConfig.internal : false;\n        // Check if there is no target (targetless)\n        // An undefined transition signals that the state node should not transition from that event.\n        if (target === undefined || target === TARGETLESS_KEY) {\n            return __assign({}, transitionConfig, { actions: transitionConfig ? toArray(transitionConfig.actions).map(function (action) {\n                    return toActionObject(action);\n                }) : [], target: undefined, internal: transitionConfig ? transitionConfig.internal === undefined ? true : transitionConfig.internal : true, event: event });\n        }\n        var targets = toArray(target);\n        // Format targets to their full string path\n        var formattedTargets = targets.map(function (_target) {\n            var internalTarget = typeof _target === 'string' && _target[0] === _this.delimiter;\n            internal = internal || internalTarget;\n            // If internal target is defined on machine,\n            // do not include machine key on target\n            if (internalTarget && !_this.parent) {\n                return _target.slice(1);\n            }\n            return internalTarget ? _this.key + _target : \"\" + _target;\n        });\n        return __assign({}, transitionConfig, { actions: transitionConfig ? toArray(transitionConfig.actions).map(function (action) {\n                return toActionObject(action);\n            }) : [], target: formattedTargets, internal: internal,\n            event: event });\n    };\n    StateNode.prototype.formatTransitions = function () {\n        var _this = this;\n        var _a;\n        var onConfig = this.config.on || EMPTY_OBJECT;\n        var doneConfig = this.config.onDone ? (_a = {}, _a[\"\" + done(this.id)] = this.config.onDone, _a) : undefined;\n        var invokeConfig = this.invoke.reduce(function (acc, singleInvokeConfig) {\n            if (singleInvokeConfig.onDone) {\n                acc[doneInvoke(singleInvokeConfig.id)] = singleInvokeConfig.onDone;\n            }\n            if (singleInvokeConfig.onError) {\n                acc[actionTypes.errorExecution] = singleInvokeConfig.onError;\n            }\n            return acc;\n        }, {});\n        var delayedTransitions = this.after;\n        var formattedTransitions = mapValues(__assign({}, onConfig, doneConfig, invokeConfig), function (value, event) {\n            if (value === undefined) {\n                return [{ target: undefined, event: event, actions: [], internal: true }];\n            }\n            if (Array.isArray(value)) {\n                return value.map(function (targetTransitionConfig) {\n                    return _this.formatTransition(targetTransitionConfig.target, targetTransitionConfig, event);\n                });\n            }\n            if (typeof value === 'string') {\n                return [_this.formatTransition([value], undefined, event)];\n            }\n            if (!IS_PRODUCTION) {\n                keys(value).forEach(function (key) {\n                    if (['target', 'actions', 'internal', 'in', 'cond'].indexOf(key) === -1) {\n                        throw new Error(\"State object mapping of transitions is deprecated. Check the config for event '\" + event + \"' on state '\" + _this.id + \"'.\");\n                    }\n                });\n            }\n            return [_this.formatTransition(value.target, value, event)];\n        });\n        delayedTransitions.forEach(function (delayedTransition) {\n            formattedTransitions[delayedTransition.event] = formattedTransitions[delayedTransition.event] || [];\n            formattedTransitions[delayedTransition.event].push(delayedTransition);\n        });\n        return formattedTransitions;\n    };\n    return StateNode;\n}();\nexport { StateNode };","import { StateNode } from './StateNode';\nexport function Machine(config, options, initialContext) {\n    if (initialContext === void 0) {\n        initialContext = config.context;\n    }\n    return new StateNode(config, options, initialContext);\n}","var __assign = this && this.__assign || function () {\n    __assign = Object.assign || function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { SpecialTargets, ActionTypes } from './types';\nimport * as actionTypes from './actionTypes';\nimport { toEventObject, doneInvoke, error } from './actions';\nimport { Machine } from './Machine';\nimport { StateNode } from './StateNode';\nimport { mapContext } from './utils';\nvar SimulatedClock = /** @class */ /*#__PURE__*/function () {\n    function SimulatedClock() {\n        this.timeouts = new Map();\n        this._now = 0;\n        this._id = 0;\n    }\n    SimulatedClock.prototype.now = function () {\n        return this._now;\n    };\n    SimulatedClock.prototype.getId = function () {\n        return this._id++;\n    };\n    SimulatedClock.prototype.setTimeout = function (fn, timeout) {\n        var id = this.getId();\n        this.timeouts.set(id, {\n            start: this.now(),\n            timeout: timeout,\n            fn: fn\n        });\n        return id;\n    };\n    SimulatedClock.prototype.clearTimeout = function (id) {\n        this.timeouts.delete(id);\n    };\n    SimulatedClock.prototype.set = function (time) {\n        if (this._now > time) {\n            throw new Error('Unable to travel back in time');\n        }\n        this._now = time;\n        this.flushTimeouts();\n    };\n    SimulatedClock.prototype.flushTimeouts = function () {\n        var _this = this;\n        this.timeouts.forEach(function (timeout, id) {\n            if (_this.now() - timeout.start >= timeout.timeout) {\n                timeout.fn.call(null);\n                _this.timeouts.delete(id);\n            }\n        });\n    };\n    SimulatedClock.prototype.increment = function (ms) {\n        this._now += ms;\n        this.flushTimeouts();\n    };\n    return SimulatedClock;\n}();\nexport { SimulatedClock };\nvar Interpreter = /** @class */ /*#__PURE__*/function () {\n    /**\n     * Creates a new Interpreter instance (i.e., service) for the given machine with the provided options, if any.\n     *\n     * @param machine The machine to be interpreted\n     * @param options Interpreter options\n     */\n    function Interpreter(machine, options) {\n        if (options === void 0) {\n            options = Interpreter.defaultOptions;\n        }\n        var _this = this;\n        this.machine = machine;\n        this.eventQueue = [];\n        this.delayedEventsMap = {};\n        this.activitiesMap = {};\n        this.listeners = new Set();\n        this.contextListeners = new Set();\n        this.stopListeners = new Set();\n        this.doneListeners = new Set();\n        this.eventListeners = new Set();\n        this.sendListeners = new Set();\n        this.initialized = false;\n        this.children = new Map();\n        this.forwardTo = new Set();\n        /**\n         * Alias for Interpreter.prototype.start\n         */\n        this.init = this.start;\n        /**\n         * Sends an event to the running interpreter to trigger a transition,\n         * and returns the immediate next state.\n         *\n         * @param event The event to send\n         */\n        this.send = function (event) {\n            var eventObject = toEventObject(event);\n            var nextState = _this.nextState(eventObject);\n            _this.update(nextState, event);\n            // Forward copy of event to child interpreters\n            _this.forward(eventObject);\n            return nextState;\n            // tslint:disable-next-line:semicolon\n        };\n        /**\n         * Returns a send function bound to this interpreter instance.\n         *\n         * @param event The event to be sent by the sender.\n         */\n        this.sender = function (event) {\n            function sender() {\n                return this.send(event);\n            }\n            return sender.bind(_this);\n        };\n        this.sendTo = function (event, to) {\n            var child = to === SpecialTargets.Parent ? _this.parent : _this.children.get(to);\n            if (!child) {\n                throw new Error(\"Unable to send event to child '\" + to + \"' from interpreter '\" + _this.id + \"'.\");\n            }\n            child.send(event);\n        };\n        var resolvedOptions = __assign({}, Interpreter.defaultOptions, options);\n        this.clock = resolvedOptions.clock;\n        this.logger = resolvedOptions.logger;\n        this.parent = resolvedOptions.parent;\n        this.id = resolvedOptions.id || \"\" + Math.round(Math.random() * 99999);\n    }\n    Object.defineProperty(Interpreter.prototype, \"initialState\", {\n        /**\n         * The initial state of the statechart.\n         */\n        get: function () {\n            return this.machine.initialState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Interpreter.prototype.update = function (state, event) {\n        var _this = this;\n        this.state = state;\n        var context = this.state.context;\n        var eventObject = toEventObject(event);\n        this.state.actions.forEach(function (action) {\n            _this.exec(action, context, eventObject);\n        }, context);\n        if (eventObject) {\n            this.eventListeners.forEach(function (listener) {\n                return listener(eventObject);\n            });\n        }\n        this.listeners.forEach(function (listener) {\n            return listener(state, eventObject);\n        });\n        this.contextListeners.forEach(function (ctxListener) {\n            return ctxListener(_this.state.context, _this.state.history ? _this.state.history.context : undefined);\n        });\n        if (this.state.tree && this.state.tree.done) {\n            // get donedata\n            var doneData_1 = this.state.tree.getDoneData(this.state.context, toEventObject(event));\n            this.doneListeners.forEach(function (listener) {\n                return listener(doneInvoke(_this.id, doneData_1));\n            });\n            this.stop();\n        }\n        this.flushEventQueue();\n    };\n    /*\n     * Adds a listener that is notified whenever a state transition happens. The listener is called with\n     * the next state and the event object that caused the state transition.\n     *\n     * @param listener The state listener\n     */\n    Interpreter.prototype.onTransition = function (listener) {\n        this.listeners.add(listener);\n        return this;\n    };\n    /**\n     * Adds an event listener that is notified whenever an event is sent to the running interpreter.\n     * @param listener The event listener\n     */\n    Interpreter.prototype.onEvent = function (listener) {\n        this.eventListeners.add(listener);\n        return this;\n    };\n    /**\n     * Adds an event listener that is notified whenever a `send` event occurs.\n     * @param listener The event listener\n     */\n    Interpreter.prototype.onSend = function (listener) {\n        this.sendListeners.add(listener);\n        return this;\n    };\n    /**\n     * Adds a context listener that is notified whenever the state context changes.\n     * @param listener The context listener\n     */\n    Interpreter.prototype.onChange = function (listener) {\n        this.contextListeners.add(listener);\n        return this;\n    };\n    /**\n     * Adds a listener that is notified when the machine is stopped.\n     * @param listener The listener\n     */\n    Interpreter.prototype.onStop = function (listener) {\n        this.stopListeners.add(listener);\n        return this;\n    };\n    /**\n     * Adds a state listener that is notified when the statechart has reached its final state.\n     * @param listener The state listener\n     */\n    Interpreter.prototype.onDone = function (listener) {\n        this.doneListeners.add(listener);\n        return this;\n    };\n    /**\n     * Removes a listener.\n     * @param listener The listener to remove\n     */\n    Interpreter.prototype.off = function (listener) {\n        this.listeners.delete(listener);\n        return this;\n    };\n    /**\n     * Starts the interpreter from the given state, or the initial state.\n     * @param initialState The state to start the statechart from\n     */\n    Interpreter.prototype.start = function (initialState) {\n        if (initialState === void 0) {\n            initialState = this.machine.initialState;\n        }\n        this.initialized = true;\n        this.update(initialState, { type: actionTypes.init });\n        return this;\n    };\n    /**\n     * Stops the interpreter and unsubscribe all listeners.\n     *\n     * This will also notify the `onStop` listeners.\n     */\n    Interpreter.prototype.stop = function () {\n        var _this = this;\n        this.listeners.forEach(function (listener) {\n            return _this.off(listener);\n        });\n        this.stopListeners.forEach(function (listener) {\n            // call listener, then remove\n            listener();\n            _this.stopListeners.delete(listener);\n        });\n        this.contextListeners.forEach(function (ctxListener) {\n            return _this.contextListeners.delete(ctxListener);\n        });\n        this.doneListeners.forEach(function (doneListener) {\n            return _this.doneListeners.delete(doneListener);\n        });\n        return this;\n    };\n    /**\n     * Returns the next state given the interpreter's current state and the event.\n     *\n     * This is a pure method that does _not_ update the interpreter's state.\n     *\n     * @param event The event to determine the next state\n     */\n    Interpreter.prototype.nextState = function (event) {\n        var eventObject = toEventObject(event);\n        if (!this.initialized) {\n            throw new Error(\"Unable to send event \\\"\" + eventObject.type + \"\\\" to an uninitialized interpreter (ID: \" + this.machine.id + \"). Event: \" + JSON.stringify(event));\n        }\n        var nextState = this.machine.transition(this.state, eventObject, this.state.context);\n        return nextState;\n    };\n    Interpreter.prototype.forward = function (event) {\n        var _this = this;\n        this.forwardTo.forEach(function (id) {\n            var child = _this.children.get(id);\n            if (!child) {\n                throw new Error(\"Unable to forward event '\" + event + \"' from interpreter '\" + _this.id + \"' to nonexistant child '\" + id + \"'.\");\n            }\n            child.send(event);\n        });\n    };\n    Interpreter.prototype.defer = function (sendAction) {\n        var _this = this;\n        return this.clock.setTimeout(function () {\n            if (sendAction.to) {\n                _this.sendTo(sendAction.event, sendAction.to);\n            } else {\n                _this.send(sendAction.event);\n            }\n        }, sendAction.delay || 0);\n    };\n    Interpreter.prototype.cancel = function (sendId) {\n        this.clock.clearTimeout(this.delayedEventsMap[sendId]);\n        delete this.delayedEventsMap[sendId];\n    };\n    Interpreter.prototype.exec = function (action, context, event) {\n        var _this = this;\n        if (action.exec) {\n            return action.exec(context, event, { action: action });\n        }\n        switch (action.type) {\n            case actionTypes.send:\n                var sendAction = action;\n                if (sendAction.delay) {\n                    this.delayedEventsMap[sendAction.id] = this.defer(sendAction);\n                    return;\n                } else {\n                    if (sendAction.to) {\n                        this.sendTo(sendAction.event, sendAction.to);\n                    } else {\n                        this.eventQueue.push(sendAction.event);\n                    }\n                }\n                break;\n            case actionTypes.cancel:\n                this.cancel(action.sendId);\n                break;\n            case actionTypes.start:\n                {\n                    var activity_1 = action.activity;\n                    // Invoked services\n                    if (activity_1.type === ActionTypes.Invoke) {\n                        var service = activity_1.src ? activity_1.src instanceof StateNode ? activity_1.src : typeof activity_1.src === 'function' ? activity_1.src : this.machine.options.services ? this.machine.options.services[activity_1.src] : undefined : undefined;\n                        var id_1 = activity_1.id,\n                            data = activity_1.data;\n                        var autoForward = !!activity_1.forward;\n                        if (!service) {\n                            // tslint:disable-next-line:no-console\n                            console.warn(\"No service found for invocation '\" + activity_1.src + \"' in machine '\" + this.machine.id + \"'.\");\n                            return;\n                        }\n                        if (typeof service === 'function') {\n                            var promise = service(context, event);\n                            var canceled_1 = false;\n                            promise.then(function (response) {\n                                if (!canceled_1) {\n                                    _this.send(doneInvoke(activity_1.id, response));\n                                }\n                            }).catch(function (e) {\n                                // Send \"error.execution\" to this (parent).\n                                _this.send(error(e, id_1));\n                            });\n                            this.activitiesMap[activity_1.id] = function () {\n                                canceled_1 = true;\n                            };\n                        } else if (typeof service !== 'string') {\n                            // TODO: try/catch here\n                            var childMachine = service instanceof StateNode ? service : Machine(service);\n                            var interpreter_1 = this.spawn(data ? childMachine.withContext(mapContext(data, context, event)) : childMachine, {\n                                id: id_1,\n                                autoForward: autoForward\n                            }).onDone(function (doneEvent) {\n                                _this.send(doneEvent); // todo: fix\n                            });\n                            interpreter_1.start();\n                            this.activitiesMap[activity_1.id] = function () {\n                                _this.children.delete(interpreter_1.id);\n                                _this.forwardTo.delete(interpreter_1.id);\n                                interpreter_1.stop();\n                            };\n                        }\n                    } else {\n                        var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity_1.type] : undefined;\n                        if (!implementation) {\n                            // tslint:disable-next-line:no-console\n                            console.warn(\"No implementation found for activity '\" + activity_1.type + \"'\");\n                            return;\n                        }\n                        // Start implementation\n                        this.activitiesMap[activity_1.id] = implementation(context, activity_1);\n                    }\n                    break;\n                }\n            case actionTypes.stop:\n                {\n                    var activity = action.activity;\n                    var dispose = this.activitiesMap[activity.id];\n                    if (dispose) {\n                        dispose();\n                    }\n                    break;\n                }\n            case actionTypes.log:\n                var expr = action.expr ? action.expr(context, event) : undefined;\n                if (action.label) {\n                    this.logger(action.label, expr);\n                } else {\n                    this.logger(expr);\n                }\n                break;\n            default:\n                // tslint:disable-next-line:no-console\n                console.warn(\"No implementation found for action type '\" + action.type + \"'\");\n                break;\n        }\n        return undefined;\n    };\n    Interpreter.prototype.spawn = function (machine, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var childInterpreter = new Interpreter(machine, {\n            parent: this,\n            id: options.id || machine.id\n        });\n        this.children.set(childInterpreter.id, childInterpreter);\n        if (options.autoForward) {\n            this.forwardTo.add(childInterpreter.id);\n        }\n        return childInterpreter;\n    };\n    Interpreter.prototype.flushEventQueue = function () {\n        var flushedEvent = this.eventQueue.shift();\n        if (flushedEvent) {\n            this.send(flushedEvent);\n        }\n    };\n    /**\n     * The default interpreter options:\n     *\n     * - `clock` uses the global `setTimeout` and `clearTimeout` functions\n     * - `logger` uses the global `console.log()` method\n     */\n    Interpreter.defaultOptions = /*#__PURE__*/function (global) {\n        return {\n            clock: {\n                setTimeout: function (fn, ms) {\n                    return global.setTimeout.call(null, fn, ms);\n                },\n                clearTimeout: function (id) {\n                    return global.clearTimeout.call(null, id);\n                }\n            },\n            logger: global.console.log.bind(console)\n        };\n    }(typeof window === 'undefined' ? global : window);\n    Interpreter.interpret = interpret;\n    return Interpreter;\n}();\nexport { Interpreter };\n/**\n * Creates a new Interpreter instance for the given machine with the provided options, if any.\n *\n * @param machine The machine to interpret\n * @param options Interpreter options\n */\nexport function interpret(machine, options) {\n    var interpreter = new Interpreter(machine, options);\n    return interpreter;\n}","import { matchesState } from './utils';\nimport { mapState } from './mapState';\nimport { StateNode } from './StateNode';\nimport { State } from './State';\nimport { Machine } from './Machine';\nimport { raise, send, sendParent, log, cancel, start, stop, assign, after, done, invoke } from './actions';\nvar actions = {\n    raise: raise,\n    send: send,\n    sendParent: sendParent,\n    log: log,\n    cancel: cancel,\n    start: start,\n    stop: stop,\n    assign: assign,\n    after: after,\n    done: done,\n    invoke: invoke\n};\nexport { Machine, StateNode, State, matchesState, mapState, actions };\nexport * from './types';","import { Machine } from \"xstate\";\n\nexport const DOMMachine = Machine({\n  id: \"DOM\",\n  initial: \"install\",\n  states: {\n    install: {\n      on: {\n        RENDER: {\n          target: \"hydrating\",\n          actions: [\"renderDOM\"]\n        }\n      }\n    },\n    // wait for full DOM hydratation to allow CSS custom-elements transitions etc.\n    hydrating: {\n      after: {\n        100: \"hydrated\"\n      }\n    },\n    hydrated: {\n      onEntry: [\"registerElements\"],\n      after: {\n        0: \"rendered\" // how to do self transition better after actions\n      }\n    },\n    rendered: {\n      on: {\n        RENDER: {\n          actions: [\"renderDOM\"]\n        }\n      }\n    }\n  }\n});\n","import { html, render } from \"lit-html\";\nimport { register } from \"./register.js\";\nimport { createAppTemplateResult } from \"./templates.js\";\n\nimport { interpret } from \"xstate/es/interpreter\";\nimport { Machine, actions } from \"xstate/es/\";\n\nimport { DOMMachine } from \"./machines/domMachine.js\";\n\nconst { assign } = actions;\n\nconst storeMachine = Machine(\n  {\n    id: \"store\",\n    initial: \"ready\",\n    states: {\n      ready: {\n        on: {\n          INPUT_CHANGE: {\n            actions: [\"update\"]\n          }\n        }\n      }\n    }\n  },\n  {\n    actions: {\n      update: assign((ctx, { payload }) => {\n        return {\n          name: payload\n        };\n      })\n    }\n  }\n).withContext(window.initialState.data);\n\nconst storeService = interpret(storeMachine);\n\nconst DOMMachineService = interpret(\n  DOMMachine.withConfig({\n    actions: {\n      renderDOM: (ctx, { payload }) => {\n        render(\n          createAppTemplateResult(html, payload),\n          document.getElementById(\"app\")\n        );\n      },\n      registerElements: () => {\n        register(storeService.send);\n      }\n    }\n  })\n);\nDOMMachineService.start();\n\nstoreService.onTransition(({ value, context }) => {\n  DOMMachineService.send({\n    type: \"RENDER\",\n    payload: context\n  });\n});\n\nstoreService.start();\n"],"names":["directive","this","raise","actionTypes.raise","send","actionTypes.send","log","actionTypes.log","cancel","actionTypes.cancel","start","stop","assign","actionTypes.assign","after","invoke","__read","__spread","__assign","error","__rest","__values","STATE_DELIMITER","actionTypes.nullEvent","actionTypes.errorExecution","actionTypes.init","actionTypes.start","actionTypes.stop"],"mappings":"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"}